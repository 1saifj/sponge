webpackJsonp([1],{"9NwA":function(e,t){},Lrdh:function(e,t){},MwRp:function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("7+uW"),l={name:"App",data:function(){return{isCollapse:!1,collapseSize:"300px",toggle:!1,block:!0,collapsebgcolor:"",dialogTableVisible:!1,logoImageSrc:r("hIB5"),wechatImageSrc:r("ebUW"),currentMenu:"/ui",items:[{name:"SQL",id:"1",subitem:[{name:"Web类型",id:"1-1",subitem:[{name:"创建web项目",id:"/ui/web-http"},{name:"生成handler CRUD代码",id:"/ui/web-handler"}]},{name:"RPC类型",id:"1-2",subitem:[{name:"创建rpc项目",id:"/ui/micro-rpc"},{name:"生成service CRUD代码",id:"/ui/micro-service"},{name:"生成protobuf描述信息",id:"/ui/micro-protobuf"}]}]},{name:"Protobuf",id:"2",subitem:[{name:"Web类型",id:"2-1",subitem:[{name:"创建web项目",id:"/ui/web-http-pb"},{name:"创建rpc gateway项目",id:"/ui/micro-rpc-gw-pb"}]},{name:"RPC类型",id:"2-2",subitem:[{name:"创建rpc项目",id:"/ui/micro-rpc-pb"}]}]},{name:"Public",id:"3",subitem:[{name:"Yaml",id:"3-1",subitem:[{name:"生成config代码",id:"/ui/yaml-config"}]},{name:"Dao",id:"3-2",subitem:[{name:"生成dao CRUD代码",id:"/ui/web-dao"}]},{name:"Model",id:"3-3",subitem:[{name:"生成model代码",id:"/ui/web-model"}]},{name:"RPC client",id:"3-4",subitem:[{name:"生成rpc client代码",id:"/ui/micro-rpc-cli"}]}]}]}},watch:{$route:function(e){this.currentMenu=e.path}},created:function(){this.currentMenu=this.$route.path,window.addEventListener("resize",this.handleResize)},beforeDestroy:function(){window.removeEventListener("resize",this.handleResize)},methods:{handleResize:function(e){this.fullWidth=document.documentElement.clientWidth},handleSelect:function(e,t){},handleOpen:function(e,t){},handleClose:function(e,t){},clickHandle:function(e){},collapseStatus:function(){this.toggle=!this.toggle,this.block=!this.block,this.isCollapse=!this.isCollapse,this.isCollapse?this.collapseSize="0px":this.collapseSize="300px"},changebgcolor:function(){this.collapsebgcolor="#409EFF"},clearcolor:function(){this.collapsebgcolor=""}}},a={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",[r("el-container",[r("el-header",{staticStyle:{height:"140px","border-bottom":"1px solid #eee"}},[r("div",{staticClass:"header-image"},[r("el-image",{staticStyle:{height:"80px"},attrs:{src:e.logoImageSrc}})],1),e._v(" "),r("div",{staticClass:"menuControl",style:{"background-color":e.collapsebgcolor},on:{mouseenter:e.changebgcolor,mouseleave:e.clearcolor,click:e.collapseStatus}},[r("i",{directives:[{name:"show",rawName:"v-show",value:e.block,expression:"block"}],staticClass:"el-icon-s-fold"}),e._v(" "),r("i",{directives:[{name:"show",rawName:"v-show",value:e.toggle,expression:"toggle"}],staticClass:"el-icon-s-unfold"})])]),e._v(" "),r("el-container",[r("el-aside",{staticClass:"aside-menu",attrs:{width:e.collapseSize}},[r("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:"","default-active":"$router.currentRoute.path","default-active":e.currentMenu,collapse:e.isCollapse},on:{select:e.handleSelect,open:e.handleOpen,close:e.handleClose}},[r("el-menu-item",{attrs:{index:"/"}},[r("i",{staticClass:"el-icon-s-home"}),e._v(" "),r("span",{staticClass:"home-class",attrs:{slot:"title"},slot:"title"},[e._v("Home")])]),e._v(" "),e._l(e.items,function(t,o){return r("el-submenu",{key:o,attrs:{index:t.id}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-suitcase"}),e._v(" "),r("span",{staticClass:"el-menu-span1",attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]),e._v(" "),e._l(t.subitem,function(t,o){return r("el-submenu",{key:o,attrs:{index:t.id}},[r("span",{staticClass:"el-menu-span2",attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))]),e._v(" "),e._l(t.subitem,function(t,o){return r("el-menu-item",{key:o,attrs:{index:t.id},on:{click:function(r){return e.clickHandle(t)}}},[r("span",{staticClass:"el-menu-span3"},[e._v(e._s(t.name)+" ")])])})],2)})],2)})],2)],1),e._v(" "),r("el-container",[r("el-main",[r("router-view")],1),e._v(" "),r("el-footer",[r("div",{staticStyle:{"text-align":"center",position:"relative"}},[r("p",{staticStyle:{"font-style":"italic","font-size":"small",color:"#666"}},[e._v("\n                如果对您有帮助给个"),r("a",{attrs:{href:"https://github.com/zhufuyi/sponge",target:"_blank"}},[e._v("star⭐")]),e._v("\n                ，欢迎加入\n                "),r("el-button",{staticStyle:{"font-size":"small"},attrs:{type:"text"},on:{click:function(t){e.dialogTableVisible=!0}}},[e._v("go sponge微信交流群。")])],1),e._v(" "),r("el-dialog",{attrs:{title:"加微信进群",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[r("el-image",{staticStyle:{height:"320px"},attrs:{src:e.wechatImageSrc}})],1)],1)])],1)],1)],1)],1)])},staticRenderFns:[]};var i=r("VU/8")(l,a,!1,function(e){r("lWLy")},"data-v-28e4a42a",null).exports,s=r("/ocq"),n={name:"Home",data:function(){return{homeImageSrc:r("X4KW"),mircoServiceFrameworkImageSrc:r("qynW")}}},d={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:18,offset:3}},[r("p",{staticStyle:{"margin-bottom":"50px"}},[r("a",{attrs:{href:"https://github.com/zhufuyi/sponge",target:"_blank"}},[e._v("sponge")]),e._v("\n      是一个快速创建web服务和微服务工具，也是一个基于gin和grpc封装的微服务框架，sponge拥有丰富的生成代码命令，解耦模块化设计，很容易构建出从开发到部署的完整工程代码，让使用go语言开发更便捷、轻松、高效。\n    ")]),e._v(" "),r("p",[e._v("\n      项目地址："),r("a",{attrs:{href:"https://github.com/zhufuyi/sponge",target:"_blank"}},[e._v("https://github.com/zhufuyi/sponge")])]),e._v(" "),r("p",[e._v("\n      文档："),r("a",{attrs:{href:"https://go-sponge.com/zh-cn/",target:"_blank"}},[e._v("https://go-sponge.com")])]),e._v(" "),r("br"),e._v(" "),r("p",[e._v("sponge生成代码框架图：")]),e._v(" "),r("div",{staticClass:"home-image"},[r("el-image",{attrs:{src:e.homeImageSrc}})],1),e._v(" "),r("br"),e._v(" "),r("p",[e._v("微服务服务框架图：")]),e._v(" "),r("div",{staticClass:"microservices-image"},[r("el-image",{attrs:{src:e.mircoServiceFrameworkImageSrc}})],1),e._v(" "),r("br"),e._v(" "),r("p")])],1)},staticRenderFns:[]};var m=r("VU/8")(n,d,!1,function(e){r("XcvK")},null,null).exports,c=r("mtWM"),u={name:"DownloadCode",data:function(){return{downloadStatusDialogVisible:!1,dialogContent:""}},methods:{execution:function(e,t,r,o){var l=this,a={path:t,arg:r};c.a.post(e,a,{responseType:"blob"}).then(function(e){var t=e.data,r=e.headers,a=r["content-disposition"],i=new Blob([t],{type:r["content-type"]}),s=document.createElement("a"),n=window.URL.createObjectURL(i);s.href=n,s.download=decodeURI(a),s.style.display="none",document.body.appendChild(s),s.click(),s.parentNode.removeChild(s),window.URL.revokeObjectURL(n),l.dialogContent=o,l.downloadStatusDialogVisible=!0}).catch(function(e){console.log(e);var t=e.response.headers;""!=t["err-msg"]?l.$message.error(t["err-msg"]):l.$message.error(e.message)})}}},p={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{staticClass:"helper-dialog",attrs:{title:"下载成功",visible:e.downloadStatusDialogVisible,width:"50%",center:""},on:{"update:visible":function(t){e.downloadStatusDialogVisible=t}}},[r("h3",{staticStyle:{"margin-left":"30px"}},[e._v("使用帮助：")]),e._v(" "),r("div",{staticStyle:{padding:"10px 30px","font-size":"16px"},domProps:{innerHTML:e._s(e.dialogContent)}})])],1)},staticRenderFns:[]};var f=r("VU/8")(u,p,!1,function(e){r("MwRp")},"data-v-0c8a2652",null).exports,v={name:"WebHTTP",data:function(){return{title:"创建web项目，生成web服务完整工程代码",path:"web-http",helpInfo:'\n      <p>基于sql创建的web项目包括了开发到部署所需的功能，包括了mysql表的增删改查接口和swagger文档， 支持分页、过滤、排序查询。</p>\n      <br />\n      <p>1. 解压文件。</p>\n      <p>2. 打开终端，执行命令更新swagger文档:  <b style="color: green">make docs</b></p>\n      <p>3. 编译和启动服务:  <b style="color: green">make run</b></p>\n      <p>4. 复制 <a href="http://localhost:8080/swagger/index.html" target="_blank">http://localhost:8080/swagger/index.html</a> 到浏览器测试<b>增删改查</b>接口。</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:"",moduleName:"",serverName:"",projectName:"",repoAddr:"",embed:!0},rules:{dsnAddr:[{required:!0,message:"请输入连接mysql dsn地址",trigger:"blur"}],tableName:[{required:!0,message:"请选择表名",trigger:"change"}],moduleName:[{required:!0,message:"请输入go module名称",trigger:"blur"}],serverName:[{required:!0,message:"请输入服务名称",trigger:"blur"}],projectName:[{required:!0,message:"请输入项目名称",trigger:"blur"}]},tableNames:[]}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;c.a.get(t).then(function(t){var r=t.data;0==r.code&&(e.ruleForm.dsnAddr=r.data.dsn,e.ruleForm.moduleName=r.data.moduleName,e.ruleForm.serverName=r.data.serverName,e.ruleForm.projectName=r.data.projectName,e.ruleForm.repoAddr=r.data.repoAddr,e.ruleForm.embed=r.data.embed,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var r=appConfig.spongeServiceAddr+"/generate",o="web http --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --project-name="+t.ruleForm.projectName+" --repo-addr="+t.ruleForm.repoAddr+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+t.ruleForm.tableName+" --embed="+t.ruleForm.embed;t.$refs.downloadCode.execution(r,t.path,o,t.helpInfo)})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr,embed:!0}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var r=appConfig.spongeServiceAddr+"/listTables",o={dsn:this.ruleForm.dsnAddr};c.a.post(r,o,{timeout:5e3}).then(function(r){var o=r.data;e&&(0==o.code?t.$message.success("获取表名成功"):t.$message.error("获取表名失败")),t.tableNames=o.data}).catch(function(e){t.$message.error("获取表名失败")})}},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(其他)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},h={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",{attrs:{gutter:0}},[r("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[r("div",{staticClass:"title"},[r("h3",[e._v(e._s(e.title))])]),e._v(" "),r("div",{staticClass:"form-style"},[r("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[r("el-form-item",{attrs:{label:"mysql dsn地址",prop:"dsnAddr"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/dbName"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),r("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("获取表名")])],1),e._v(" "),r("el-form-item",{attrs:{label:"表名",prop:"tableName"}},[r("el-select",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"请选择表名",clearable:"",filterable:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[r("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),r("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              创建服务只支持单表，后面需要添加新API接口，在"),r("b",[e._v("【生成handler CRUD代码】")]),e._v("菜单中支持多表批量生成代码。\n            ")])])],1),e._v(" "),r("el-form-item",{attrs:{label:"服务名称",prop:"serverName"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"module名称",prop:"moduleName"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[r("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),r("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              go.mod文件的module名称\n            ")])])],1),e._v(" "),r("el-form-item",{attrs:{label:"项目名称",prop:"projectName"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.projectName,callback:function(t){e.$set(e.ruleForm,"projectName","string"==typeof t?t.trim():t)},expression:"ruleForm.projectName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"镜像仓库地址"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.repoAddr,callback:function(t){e.$set(e.ruleForm,"repoAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.repoAddr"}}),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[r("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),r("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              镜像仓库地址，默认值是image-repo-host，这个参数用在构建docker镜像、k8s的部署脚本上，如果使用docker官方镜像仓库，只需填写注册docker仓库的用户名，如果使用私有仓库地址，需要填写完整仓库地址。\n            ")])])],1),e._v(" "),r("el-form-item",{attrs:{label:"嵌入Model"}},[r("el-switch",{model:{value:e.ruleForm.embed,callback:function(t){e.$set(e.ruleForm,"embed",t)},expression:"ruleForm.embed"}}),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[r("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),r("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              生成model代码的表结构体是否嵌入gorm.Model，如果不嵌入gorm.Model，表的列名和struct字段一一对应。\n            ")])])],1),e._v(" "),r("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),r("div",{staticClass:"conform-btns"},[r("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("重置")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("下载代码")]),e._v(" "),r("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var g=r("VU/8")(v,h,!1,function(e){r("9NwA")},"data-v-12d9a5c8",null).exports,b={name:"WebHandler",data:function(){return{title:"生成handler CRUD代码",path:"web-handler",helpInfo:'\n      <p>基于mysql表生成handler代码，包含了增删改查接口、测试代码、swagger文档，支持分页、过滤、排序查询。</p>\n      <br />\n      <p>1. 解压文件，将整个文件夹复制到web项目文件夹下。</p>\n      <p>2. 打开终端，执行命令更新swagger文档:  <b style="color: green">make docs</b></p>\n      <p>3. 编译和启动服务:  <b style="color: green">make run</b></p>\n      <p>4. 复制 <a href="http://localhost:8080/swagger/index.html" target="_blank">http://localhost:8080/swagger/index.html</a> 到浏览器测试<b>增删改查</b>接口。</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:[],moduleName:"",embed:!0},rules:{dsnAddr:[{required:!0,message:"请输入连接mysql dsn地址",trigger:"blur"}],tableName:[{required:!0,message:"请选择表名",trigger:"change"}],moduleName:[{required:!0,message:"请输入go module名称",trigger:"blur"}]},tableNames:[]}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;c.a.get(t).then(function(t){var r=t.data;0==r.code&&(e.ruleForm.dsnAddr=r.data.dsn,e.ruleForm.moduleName=r.data.moduleName,e.ruleForm.embed=r.data.embed,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var r=appConfig.spongeServiceAddr+"/generate",o=t.ruleForm.tableName.join(","),l="web handler --module-name="+t.ruleForm.moduleName+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+o+" --embed="+t.ruleForm.embed;t.$refs.downloadCode.execution(r,t.path,l,t.helpInfo)})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr,embed:!0}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var r=appConfig.spongeServiceAddr+"/listTables",o={dsn:this.ruleForm.dsnAddr};c.a.post(r,o,{timeout:5e3}).then(function(r){var o=r.data;e&&(0==o.code?t.$message.success("获取表名成功"):t.$message.error("获取表名失败")),t.tableNames=o.data}).catch(function(e){t.$message.error("获取表名失败")})}},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(其他)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},F={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[r("div",{staticClass:"title"},[r("h3",[e._v(e._s(e.title))])]),e._v(" "),r("div",{staticClass:"form-style"},[r("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[r("el-form-item",{attrs:{label:"mysql dsn地址",prop:"dsnAddr"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/dbName"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),r("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("获取表名")])],1),e._v(" "),r("el-form-item",{attrs:{label:"表名",prop:"tableName"}},[r("el-select",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"请选择表名，支持多选",clearable:"",filterable:"",multiple:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"module名称",prop:"moduleName"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[r("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),r("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              例如已存在user服务，这里填写就是user服务目录下go.mod文件里的module名称。\n            ")])])],1),e._v(" "),r("el-form-item",{attrs:{label:"嵌入Model"}},[r("el-switch",{model:{value:e.ruleForm.embed,callback:function(t){e.$set(e.ruleForm,"embed",t)},expression:"ruleForm.embed"}}),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[r("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),r("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              生成model代码的表结构体是否嵌入gorm.Model，如果不嵌入gorm.Model，表的列名和struct字段一一对应。\n            ")])])],1)],1),e._v(" "),r("div",{staticStyle:{margin:"30px auto"}}),e._v(" "),r("div",{staticClass:"conform-btns"},[r("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("重置")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("下载代码")]),e._v(" "),r("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var w=r("VU/8")(b,F,!1,function(e){r("se0f")},"data-v-134e14e2",null).exports,_={name:"WebDao",data:function(){return{title:"生成Dao CRUD代码",path:"web-dao",helpInfo:"\n      <p>基于mysql表生成dao代码，包含了mysql表的增删改查方法、缓存、测试代码，支持分页、过滤、排序查询。</p>\n      <br />\n      <p>主要作用：</p>\n      <p>●  提供给web项目下的handler使用。</p>\n      <p>●  提供给rpc项目下的service使用。</p>\n      ",labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:[],moduleName:"",includeInitDB:!1,embed:!0},rules:{dsnAddr:[{required:!0,message:"请输入连接mysql dsn地址",trigger:"blur"}],tableName:[{required:!0,message:"请选择表名",trigger:"change"}],moduleName:[{required:!0,message:"请输入go module名称",trigger:"blur"}]},tableNames:[]}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;c.a.get(t).then(function(t){var r=t.data;0==r.code&&(e.ruleForm.dsnAddr=r.data.dsn,e.ruleForm.moduleName=r.data.moduleName,e.ruleForm.includeInitDB=r.data.includeInitDB,e.ruleForm.embed=r.data.embed,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var r=appConfig.spongeServiceAddr+"/generate",o=t.ruleForm.tableName.join(","),l="web dao --module-name="+t.ruleForm.moduleName+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+o+" --embed="+t.ruleForm.embed+" --include-init-db="+t.ruleForm.includeInitDB;t.$refs.downloadCode.execution(r,t.path,l,t.helpInfo)})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr,embed:!0}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var r=appConfig.spongeServiceAddr+"/listTables",o={dsn:this.ruleForm.dsnAddr};c.a.post(r,o,{timeout:5e3}).then(function(r){var o=r.data;e&&(0==o.code?t.$message.success("获取表名成功"):t.$message.error("获取表名失败")),t.tableNames=o.data}).catch(function(e){t.$message.error("获取表名失败")})}},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(其他)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},y={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[r("div",{staticClass:"title"},[r("h3",[e._v(e._s(e.title))])]),e._v(" "),r("div",{staticClass:"form-style"},[r("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[r("el-form-item",{attrs:{label:"mysql dsn地址",prop:"dsnAddr"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/dbName"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),r("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("获取表名")])],1),e._v(" "),r("el-form-item",{attrs:{label:"表名",prop:"tableName"}},[r("el-select",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"请选择表名，支持多选",clearable:"",filterable:"",multiple:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"module名称",prop:"moduleName"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[r("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),r("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              例如已存在user服务，这里填写就是user服务目录下go.mod文件里的module名称。\n            ")])])],1),e._v(" "),r("el-form-item",{attrs:{label:"嵌入Model"}},[r("el-switch",{model:{value:e.ruleForm.embed,callback:function(t){e.$set(e.ruleForm,"embed",t)},expression:"ruleForm.embed"}}),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[r("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),r("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              生成model代码的表结构体是否嵌入gorm.Model，如果不嵌入gorm.Model，表的列名和struct字段一一对应。\n            ")])])],1),e._v(" "),r("el-form-item",{attrs:{label:"初始化db"}},[r("el-switch",{model:{value:e.ruleForm.includeInitDB,callback:function(t){e.$set(e.ruleForm,"includeInitDB",t)},expression:"ruleForm.includeInitDB"}}),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[r("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),r("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              选中这个选项生成的dao代码包括了mysql和redis初始化代码，通常用在基于protobuf创建的web或rpc的项目中，如果是基于mysql表生成的web或rpc项目，则不需要选中。\n            ")])])],1)],1),e._v(" "),r("div",{staticStyle:{margin:"30px auto"}}),e._v(" "),r("div",{staticClass:"conform-btns"},[r("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("重置")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("下载代码")]),e._v(" "),r("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var N=r("VU/8")(_,y,!1,function(e){r("Lrdh")},"data-v-b6714472",null).exports,S={name:"WebModel",data:function(){return{title:"生成Model代码",path:"web-model",helpInfo:"\n      <p>基于mysql表生成对应gorm的结构体。</p>\n      ",labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:[],embed:!0},rules:{dsnAddr:[{required:!0,message:"请输入连接mysql dsn地址",trigger:"blur"}],tableName:[{required:!0,message:"请选择表名",trigger:"change"}]},tableNames:[]}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;c.a.get(t).then(function(t){var r=t.data;0==r.code&&(e.ruleForm.dsnAddr=r.data.dsn,e.ruleForm.embed=r.data.embed,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var r=appConfig.spongeServiceAddr+"/generate",o=t.ruleForm.tableName.join(","),l="web model --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+o+" --embed="+t.ruleForm.embed;t.$refs.downloadCode.execution(r,t.path,l,t.helpInfo)})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr,embed:!0}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var r=appConfig.spongeServiceAddr+"/listTables",o={dsn:this.ruleForm.dsnAddr};c.a.post(r,o,{timeout:5e3}).then(function(r){var o=r.data;e&&(0==o.code?t.$message.success("获取表名成功"):t.$message.error("获取表名失败")),t.tableNames=o.data}).catch(function(e){t.$message.error("获取表名失败")})}},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(其他)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},C={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[r("div",{staticClass:"title"},[r("h3",[e._v(e._s(e.title))])]),e._v(" "),r("div",{staticClass:"form-style"},[r("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[r("el-form-item",{attrs:{label:"mysql dsn地址",prop:"dsnAddr"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/dbName"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),r("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("获取表名")])],1),e._v(" "),r("el-form-item",{attrs:{label:"表名",prop:"tableName"}},[r("el-select",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"请选择表名，支持多选",clearable:"",filterable:"",multiple:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"嵌入Model"}},[r("el-switch",{model:{value:e.ruleForm.embed,callback:function(t){e.$set(e.ruleForm,"embed",t)},expression:"ruleForm.embed"}}),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[r("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),r("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              生成model代码的表结构体是否嵌入gorm.Model，如果不嵌入gorm.Model，表的列名和struct字段一一对应。\n            ")])])],1),e._v(" "),r("el-form-item",{attrs:{label:"初始化db"}},[r("el-switch",{model:{value:e.ruleForm.includeInitDB,callback:function(t){e.$set(e.ruleForm,"includeInitDB",t)},expression:"ruleForm.includeInitDB"}}),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[r("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),r("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              选中这个选项生成的dao代码包括了mysql和redis初始化代码，通常用在基于protobuf创建的web或rpc的项目中，如果是基于mysql表生成的web或rpc项目则不需要选中。\n            ")])])],1),e._v(" "),r("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),r("div",{staticClass:"conform-btns"},[r("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("重置")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("下载代码")]),e._v(" "),r("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var x=r("VU/8")(S,C,!1,function(e){r("Pyze")},"data-v-5d16b7e1",null).exports,z={name:"MicroRPC",data:function(){return{title:"创建rpc项目，生成rpc服务完整工程代码",path:"micro-rpc",helpInfo:'\n      <p>基于mysql表创建的rpc项目包括了开发到部署所需的功能，包括了mysql表的增删改查方法和测试代码。</p>\n      <br />\n      <p>1. 解压文件。</p>\n      <p>2. 打开终端，执行命令生成*.pb.go文件:  <b style="color: green">make proto</b></p>\n      <p>3. 编译和启动服务:  <b style="color: green">make run</b></p>\n      <p>4. 使用 <b>Goland</b> 或 <b>VS Code</b> 打开文件 <span style="color: chocolate">internal/service/xxx_client_test.go</span>，测试或者压测rpc的<b>增删改查</b>方法。</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:"",moduleName:"",serverName:"",projectName:"",repoAddr:"",embed:!0},rules:{dsnAddr:[{required:!0,message:"请输入连接mysql dsn地址",trigger:"blur"}],tableName:[{required:!0,message:"请选择表名",trigger:"change"}],moduleName:[{required:!0,message:"请输入go module名称",trigger:"blur"}],serverName:[{required:!0,message:"请输入服务名称",trigger:"blur"}],projectName:[{required:!0,message:"请输入项目名称",trigger:"blur"}]},tableNames:[]}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;c.a.get(t).then(function(t){var r=t.data;0==r.code&&(e.ruleForm.dsnAddr=r.data.dsn,e.ruleForm.moduleName=r.data.moduleName,e.ruleForm.serverName=r.data.serverName,e.ruleForm.projectName=r.data.projectName,e.ruleForm.repoAddr=r.data.repoAddr,e.ruleForm.embed=r.data.embed,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var r=appConfig.spongeServiceAddr+"/generate",o="micro rpc --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --project-name="+t.ruleForm.projectName+" --repo-addr="+t.ruleForm.repoAddr+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+t.ruleForm.tableName+" --embed="+t.ruleForm.embed;t.$refs.downloadCode.execution(r,t.path,o,t.helpInfo)})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr,embed:!0}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var r=appConfig.spongeServiceAddr+"/listTables",o={dsn:this.ruleForm.dsnAddr};c.a.post(r,o,{timeout:5e3}).then(function(r){var o=r.data;e&&(0==o.code?t.$message.success("获取表名成功"):t.$message.error("获取表名失败")),t.tableNames=o.data}).catch(function(e){t.$message.error("获取表名失败")})}},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(其他)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},k={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[r("div",{staticClass:"title"},[r("h3",[e._v(e._s(e.title))])]),e._v(" "),r("div",{staticClass:"form-style"},[r("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[r("el-form-item",{attrs:{label:"mysql dsn地址",prop:"dsnAddr"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/dbName"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),r("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("获取表名")])],1),e._v(" "),r("el-form-item",{attrs:{label:"表名",prop:"tableName"}},[r("el-select",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"请选择表名",clearable:"",filterable:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[r("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),r("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              创建服务只支持单表，后面需要添加新API方法，在"),r("b",[e._v("【生成service CRUD代码】")]),e._v("菜单中支持多表批量生成代码。\n            ")])])],1),e._v(" "),r("el-form-item",{attrs:{label:"服务名称",prop:"serverName"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"module名称",prop:"moduleName"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[r("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),r("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              go.mod文件的module名称\n            ")])])],1),e._v(" "),r("el-form-item",{attrs:{label:"项目名称",prop:"projectName"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.projectName,callback:function(t){e.$set(e.ruleForm,"projectName","string"==typeof t?t.trim():t)},expression:"ruleForm.projectName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"镜像仓库地址"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.repoAddr,callback:function(t){e.$set(e.ruleForm,"repoAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.repoAddr"}}),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[r("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),r("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              镜像仓库地址，默认值是image-repo-host，这个参数用在构建docker镜像、k8s的部署脚本上，如果使用docker官方镜像仓库，只需填写注册docker仓库的用户名，如果使用私有仓库地址，需要填写完整仓库地址。\n            ")])])],1),e._v(" "),r("el-form-item",{attrs:{label:"嵌入Model"}},[r("el-switch",{model:{value:e.ruleForm.embed,callback:function(t){e.$set(e.ruleForm,"embed",t)},expression:"ruleForm.embed"}}),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[r("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),r("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              生成model代码的表结构体是否嵌入gorm.Model，如果不嵌入gorm.Model，表的列名和struct字段一一对应。\n            ")])])],1),e._v(" "),r("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),r("div",{staticClass:"conform-btns"},[r("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("重置")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("下载代码")]),e._v(" "),r("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var A=r("VU/8")(z,k,!1,function(e){r("vkh3")},"data-v-d2f06bb0",null).exports,$={name:"MicroRPCClient",data:function(){return{title:"生成rpc客户端代码",path:"micro-rpc-cli",helpInfo:"\n      <p>rpc客户端代码包括了服务注册和常用服务治理功能。</p>\n      ",labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{moduleName:"",rpcServerNames:""},rules:{moduleName:[{required:!0,message:"请输入go module名称",trigger:"blur"}],rpcServerNames:[{required:!0,message:"请输入rpc服务名称",trigger:"blur"}]}}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;c.a.get(t).then(function(t){var r=t.data;0==r.code&&(e.ruleForm.moduleName=r.data.moduleName,e.ruleForm.rpcServerNames=r.data.rpcServerNames)}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var r=appConfig.spongeServiceAddr+"/generate",o="micro rpc-cli --module-name="+t.ruleForm.moduleName+" --rpc-server-name="+t.ruleForm.rpcServerNames;t.$refs.downloadCode.execution(r,t.path,o,t.helpInfo)})},clearFormData:function(){this.ruleForm={}},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},W={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[r("div",{staticClass:"title"},[r("h3",[e._v(e._s(e.title))])]),e._v(" "),r("div",{staticClass:"form-style"},[r("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[r("el-form-item",{attrs:{label:"module名称",prop:"moduleName"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"请输入module服务名称"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[r("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),r("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              例如已存在user服务，这里填写就是user服务目录下go.mod文件里的module名称。\n            ")])])],1),e._v(" "),r("el-form-item",{attrs:{label:"rpc服务名称",prop:"rpcServerNames"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"请输入rpc服务名称，多个服务用逗号分隔"},model:{value:e.ruleForm.rpcServerNames,callback:function(t){e.$set(e.ruleForm,"rpcServerNames","string"==typeof t?t.trim():t)},expression:"ruleForm.rpcServerNames"}})],1)],1),e._v(" "),r("div",{staticStyle:{margin:"30px auto"}}),e._v(" "),r("div",{staticClass:"conform-btns"},[r("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("重置")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("下载代码")]),e._v(" "),r("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var q=r("VU/8")($,W,!1,function(e){r("ZQPb")},"data-v-2467ef5a",null).exports,D={name:"MicroService",data:function(){return{title:"生成service CRUD代码",path:"micro-service",helpInfo:'\n      <p>基于mysql表生成service代码，包含了mysql表的增删改查方法和测试代码，支持分页、过滤、排序查询。</p>\n      <br />\n      <p>1. 解压文件，将整个文件夹复制到rpc项目文件夹下。</p>\n      <p>2. 打开终端，执行命令生成*.pb.go文件:  <b style="color: green">make proto</b></p>\n      <p>3. 编译和启动服务:  <b style="color: green">make run</b></p>\n      <p>4. 使用 <b>Goland</b> 或 <b>VS Code</b> 打开文件 <span style="color: chocolate">internal/service/xxx_client_test.go</span>，测试或者压测rpc的<b>增删改查</b>方法。</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:[],moduleName:"",serverName:"",embed:!0},rules:{dsnAddr:[{required:!0,message:"请输入连接mysql dsn地址",trigger:"blur"}],tableName:[{required:!0,message:"请选择表名",trigger:"change"}],moduleName:[{required:!0,message:"请输入go module名称",trigger:"blur"}],serverName:[{required:!0,message:"请输入服务名称",trigger:"blur"}]},tableNames:[]}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;c.a.get(t).then(function(t){var r=t.data;0==r.code&&(e.ruleForm.dsnAddr=r.data.dsn,e.ruleForm.moduleName=r.data.moduleName,e.ruleForm.serverName=r.data.serverName,e.ruleForm.embed=r.data.embed,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var r=appConfig.spongeServiceAddr+"/generate",o=t.ruleForm.tableName.join(","),l="micro service --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+o+" --embed="+t.ruleForm.embed;t.$refs.downloadCode.execution(r,t.path,l,t.helpInfo)})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr,embed:!0}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var r=appConfig.spongeServiceAddr+"/listTables",o={dsn:this.ruleForm.dsnAddr};c.a.post(r,o,{timeout:5e3}).then(function(r){var o=r.data;e&&(0==o.code?t.$message.success("获取表名成功"):t.$message.error("获取表名失败")),t.tableNames=o.data}).catch(function(e){t.$message.error("获取表名失败")})}},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(其他)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},j={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[r("div",{staticClass:"title"},[r("h3",[e._v(e._s(e.title))])]),e._v(" "),r("div",{staticClass:"form-style"},[r("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[r("el-form-item",{attrs:{label:"mysql dsn地址",prop:"dsnAddr"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/dbName"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),r("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("获取表名")])],1),e._v(" "),r("el-form-item",{attrs:{label:"表名",prop:"tableName"}},[r("el-select",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"请选择表名，支持多选",clearable:"",filterable:"",multiple:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"服务名称",prop:"serverName"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"module名称",prop:"moduleName"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[r("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),r("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              例如已存在user服务，这里填写就是user服务目录下go.mod文件里的module名称。\n            ")])])],1),e._v(" "),r("el-form-item",{attrs:{label:"嵌入Model"}},[r("el-switch",{model:{value:e.ruleForm.embed,callback:function(t){e.$set(e.ruleForm,"embed",t)},expression:"ruleForm.embed"}}),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[r("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),r("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              生成model代码的表结构体是否嵌入gorm.Model，如果不嵌入gorm.Model，表的列名和struct字段一一对应。\n            ")])])],1)],1),e._v(" "),r("div",{staticStyle:{margin:"30px auto"}}),e._v(" "),r("div",{staticClass:"conform-btns"},[r("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("重置")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("下载代码")]),e._v(" "),r("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var R=r("VU/8")(D,j,!1,function(e){r("dpHK")},"data-v-147a38c7",null).exports,T={name:"MicroProtobuf",data:function(){return{title:"生成protobuf描述信息",path:"micro-protobuf",helpInfo:'\n      <p>mysql表转换为protobuf，protobuf描述信息主要是增删改查接口和方法。</p>\n      <br />\n      <p>proto文件除了生成*.pb.go文件外，还可以有下面作用：</p>\n      <p style="text-indent:2em;">● 生成swagger文档。\n      <p style="text-indent:2em;">● 作为protoc的自定义的插件生成需要的代码。\n      <p style="text-indent:2em;">● 提供给sponge创建web项目。\n      <p style="text-indent:2em;">● 提供给sponge创建rpc gateway项目。\n      <p style="text-indent:2em;">● 提供给sponge创建rpc项目。\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:[],moduleName:"",serverName:""},rules:{dsnAddr:[{required:!0,message:"请输入连接mysql dsn地址",trigger:"blur"}],tableName:[{required:!0,message:"请选择表名",trigger:"change"}],moduleName:[{required:!0,message:"请输入go module名称",trigger:"blur"}],serverName:[{required:!0,message:"请输入服务名称",trigger:"blur"}]},tableNames:[]}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;c.a.get(t).then(function(t){var r=t.data;0==r.code&&(e.ruleForm.dsnAddr=r.data.dsn,e.ruleForm.moduleName=r.data.moduleName,e.ruleForm.serverName=r.data.serverName,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var r=appConfig.spongeServiceAddr+"/generate",o=t.ruleForm.tableName.join(","),l="micro protobuf --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+o;t.$refs.downloadCode.execution(r,t.path,l,t.helpInfo)})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var r=appConfig.spongeServiceAddr+"/listTables",o={dsn:this.ruleForm.dsnAddr};c.a.post(r,o,{timeout:5e3}).then(function(r){var o=r.data;e&&(0==o.code?t.$message.success("获取表名成功"):t.$message.error("获取表名失败")),t.tableNames=o.data}).catch(function(e){t.$message.error("获取表名失败")})}},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(其他)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},U={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[r("div",{staticClass:"title"},[r("h3",[e._v(e._s(e.title))])]),e._v(" "),r("div",{staticClass:"form-style"},[r("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[r("el-form-item",{attrs:{label:"mysql dsn地址",prop:"dsnAddr"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/dbName"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),r("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("获取表名")])],1),e._v(" "),r("el-form-item",{attrs:{label:"表名",prop:"tableName"}},[r("el-select",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"请选择表名，支持多选",clearable:"",filterable:"",multiple:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"服务名称",prop:"serverName"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"module名称",prop:"moduleName"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[r("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),r("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              go.mod文件的module名称\n            ")])])],1),e._v(" "),r("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),r("div",{staticClass:"conform-btns"},[r("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("重置")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("下载代码")]),e._v(" "),r("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var E=r("VU/8")(T,U,!1,function(e){r("OvWb")},"data-v-a1efb6ca",null).exports,I={name:"WebHTTPPb",data:function(){return{title:"创建web项目，生成web服务定制化工程代码",path:"web-http-pb",helpInfo:'\n      <p>基于proto文件创建的web项目包括了开发到部署所需要的功能。通过protoc插件自动生成了模板代码，只需在模板文件编写业务逻辑代码。</p>\n      <br />\n      <p>1. 解压文件。</p>\n      <p>2. 打开终端，执行命令生成*pb.go文件、生成handler模板代码、更新swagger文档:  <b style="color: green">make proto</b></p>\n      <p>3. 打开文件 <span style="color: chocolate">internal/handler/xxx_logic.go</span>, 根据模板代码示例填充代码替换 <span style="color: chocolate">panic("implement me")</span></p>\n      <p>4. 编译和启动服务:  <b style="color: green">make run</b></p>\n      <p>5. 复制 <a href="http://localhost:8080/apis/swagger/index.html" target="_blank">http://localhost:8080/apis/swagger/index.html</a> 到浏览器测试api接口。</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,fileList:[],ruleForm:{moduleName:"",serverName:"",projectName:"",repoAddr:"",protobufFile:""},rules:{moduleName:[{required:!0,message:"请输入go module名称",trigger:"blur"}],serverName:[{required:!0,message:"请输入服务名称",trigger:"blur"}],projectName:[{required:!0,message:"请输入项目名称",trigger:"blur"}],protobufFile:[{required:!0,message:"请选择proto文件",trigger:"change"}]}}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;c.a.get(t).then(function(t){var r=t.data;0==r.code&&(e.ruleForm.moduleName=r.data.moduleName,e.ruleForm.serverName=r.data.serverName,e.ruleForm.projectName=r.data.projectName,e.ruleForm.repoAddr=r.data.repoAddr,e.ruleForm.protobufFile="")}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var r=new FormData;t.fileList.forEach(function(e){r.append("files",e.raw)});var o=appConfig.spongeServiceAddr+"/uploadFiles";c.a.post(o,r).then(function(e){if(0==e.data.code){var r=appConfig.spongeServiceAddr+"/generate",o="web http-pb --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --project-name="+t.ruleForm.projectName+" --repo-addr="+t.ruleForm.repoAddr+" --protobuf-file="+e.data.data;t.$refs.downloadCode.execution(r,t.path,o,t.helpInfo)}else t.$message.error(e.data.msg)}).catch(function(e){t.$message.error("下载代码失败")})})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr}},handleOnchange:function(e,t){this.ruleForm.protobufFile=e.name,this.fileList=t,0!==t.length&&this.$refs.ruleForm.validateField("protobufFile")},handleOnRemove:function(e,t){0===t.length&&(this.ruleForm.protobufFile="",this.$refs.ruleForm.validateField("protobufFile"))},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},P={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[r("div",{staticClass:"title"},[r("h3",[e._v(e._s(e.title))])]),e._v(" "),r("div",{staticClass:"form-style"},[r("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[r("el-form-item",{attrs:{label:"proto文件",prop:"protobufFile"}},[r("el-upload",{staticClass:"upload-demo",attrs:{drag:"",multiple:"",accept:".proto",action:"#","auto-upload":!1,"on-change":e.handleOnchange,"on-remove":e.handleOnRemove,"file-list":e.fileList}},[r("i",{staticClass:"el-icon-upload"}),e._v(" "),r("div",{staticClass:"el-upload__text"},[r("em",[e._v("点击选择proto文件")]),r("br"),e._v("或将文件拖到此处，支持多文件\n            ")])])],1),e._v(" "),r("el-form-item",{staticStyle:{"margin-top":"50px"},attrs:{label:"服务名称",prop:"serverName"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"module名称",prop:"moduleName"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[r("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),r("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              go.mod文件的module名称\n            ")])])],1),e._v(" "),r("el-form-item",{attrs:{label:"项目名称",prop:"projectName"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.projectName,callback:function(t){e.$set(e.ruleForm,"projectName","string"==typeof t?t.trim():t)},expression:"ruleForm.projectName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"镜像仓库地址"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.repoAddr,callback:function(t){e.$set(e.ruleForm,"repoAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.repoAddr"}}),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[r("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),r("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              镜像仓库地址，默认值是image-repo-host，这个参数用在构建docker镜像、k8s的部署脚本上，如果使用docker官方镜像仓库，只需填写注册docker仓库的用户名，如果使用私有仓库地址，需要填写完整仓库地址。\n            ")])])],1),e._v(" "),r("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),r("div",{staticClass:"conform-btns"},[r("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("重置")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("下载代码")]),e._v(" "),r("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var M=r("VU/8")(I,P,!1,function(e){r("O3iw")},"data-v-5703f058",null).exports,L={name:"MicroRPCPb",data:function(){return{title:"创建rpc项目，生成rpc服务定制化工程代码",path:"micro-rpc-pb",helpInfo:'\n      <p>基于protobuf创建的rpc项目包括了开发到部署所需的功能，通过protoc插件自动生成了模板和测试代码，只需在模板文件编写业务逻辑代码。</p>\n      <br />\n      <p>1. 解压文件。</p>\n      <p>2. 打开终端，执行命令生成*pb.go文件、生成service模板代码:  <b style="color: green">make proto</b></p>\n      <p>3. 打开文件 <span style="color: chocolate">internal/service/xxx.go</span>, 根据模板代码示例填充代码替换 <span style="color: chocolate">panic("implement me")</span></p>\n      <p>4. 编译和启动服务:  <b style="color: green">make run</b></p>\n      <p>5. 使用 <b>Goland</b> 或 <b>VS Code</b> 打开文件 <span style="color: chocolate">internal/service/xxx_client_test.go</span>，测试rpc方法。</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,fileList:[],ruleForm:{moduleName:"",serverName:"",projectName:"",repoAddr:"",protobufFile:""},rules:{moduleName:[{required:!0,message:"请输入go module名称",trigger:"blur"}],serverName:[{required:!0,message:"请输入服务名称",trigger:"blur"}],projectName:[{required:!0,message:"请输入项目名称",trigger:"blur"}],protobufFile:[{required:!0,message:"请选择proto文件",trigger:"change"}]}}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;c.a.get(t).then(function(t){var r=t.data;0==r.code&&(e.ruleForm.moduleName=r.data.moduleName,e.ruleForm.serverName=r.data.serverName,e.ruleForm.projectName=r.data.projectName,e.ruleForm.repoAddr=r.data.repoAddr,e.ruleForm.protobufFile="")}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var r=new FormData;t.fileList.forEach(function(e){r.append("files",e.raw)});var o=appConfig.spongeServiceAddr+"/uploadFiles";c.a.post(o,r).then(function(e){if(0==e.data.code){var r=appConfig.spongeServiceAddr+"/generate",o="micro rpc-pb --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --project-name="+t.ruleForm.projectName+" --repo-addr="+t.ruleForm.repoAddr+" --protobuf-file="+e.data.data;t.$refs.downloadCode.execution(r,t.path,o,t.helpInfo)}else t.$message.error(e.data.msg)}).catch(function(e){t.$message.error("下载代码失败")})})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr}},handleOnchange:function(e,t){this.ruleForm.protobufFile=e.name,this.fileList=t,0!==t.length&&this.$refs.ruleForm.validateField("protobufFile")},handleOnRemove:function(e,t){0===t.length&&(this.ruleForm.protobufFile="",this.$refs.ruleForm.validateField("protobufFile"))},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},B={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[r("div",{staticClass:"title"},[r("h3",[e._v(e._s(e.title))])]),e._v(" "),r("div",{staticClass:"form-style"},[r("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[r("el-form-item",{attrs:{label:"proto文件",prop:"protobufFile"}},[r("el-upload",{staticClass:"upload-demo",attrs:{drag:"",multiple:"",accept:".proto",action:"#","auto-upload":!1,"on-change":e.handleOnchange,"on-remove":e.handleOnRemove,"file-list":e.fileList}},[r("i",{staticClass:"el-icon-upload"}),e._v(" "),r("div",{staticClass:"el-upload__text"},[r("em",[e._v("点击选择proto文件")]),r("br"),e._v("或将文件拖到此处，支持多文件\n            ")])])],1),e._v(" "),r("el-form-item",{staticStyle:{"margin-top":"50px"},attrs:{label:"服务名称",prop:"serverName"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"module名称",prop:"moduleName"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[r("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),r("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              go.mod文件的module名称\n            ")])])],1),e._v(" "),r("el-form-item",{attrs:{label:"项目名称",prop:"projectName"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.projectName,callback:function(t){e.$set(e.ruleForm,"projectName","string"==typeof t?t.trim():t)},expression:"ruleForm.projectName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"镜像仓库地址"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.repoAddr,callback:function(t){e.$set(e.ruleForm,"repoAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.repoAddr"}}),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[r("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),r("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              镜像仓库地址，默认值是image-repo-host，这个参数用在构建docker镜像、k8s的部署脚本上，如果使用docker官方镜像仓库，只需填写注册docker仓库的用户名，如果使用私有仓库地址，需要填写完整仓库地址。\n            ")])])],1),e._v(" "),r("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),r("div",{staticClass:"conform-btns"},[r("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("重置")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("下载代码")]),e._v(" "),r("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var V=r("VU/8")(L,B,!1,function(e){r("bDu7")},"data-v-59f423b5",null).exports,O={name:"MicroRPCGwPb",data:function(){return{title:"创建web项目，生成rpc gateway服务完整工程代码",path:"micro-rpc-gw-pb",helpInfo:'\n      <p>基于protobuf创建的rpc gateway项目包括了开发到部署所需要的功能。rpc方法转换为http接口，在http接口里面调用rpc方法。</p>\n      <br />\n      <p>1. 解压文件。</p>\n      <p>2. 打开终端，执行命令生成*pb.go文件、生成service模板代码、更新swagger文档：<b style="color: green">make proto</b></p>\n      <p>3. 打开文件 <span style="color: chocolate">internal/service/xxx_logic.go</span>, 根据模板代码示例填充代码替换 <span style="color: chocolate">panic("implement me")</span></p>\n      <p>4. 编译和启动服务：<b style="color: green">make run</b></p>\n      <p>5. 复制 <a href="http://localhost:8080/apis/swagger/index.html" target="_blank">http://localhost:8080/apis/swagger/index.html</a> 到浏览器测试api接口。</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,fileList:[],ruleForm:{moduleName:"",serverName:"",projectName:"",repoAddr:"",protobufFile:""},rules:{moduleName:[{required:!0,message:"请输入go module名称",trigger:"blur"}],serverName:[{required:!0,message:"请输入服务名称",trigger:"blur"}],projectName:[{required:!0,message:"请输入项目名称",trigger:"blur"}],protobufFile:[{required:!0,message:"请选择proto文件",trigger:"change"}]}}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;c.a.get(t).then(function(t){var r=t.data;0==r.code&&(e.ruleForm.moduleName=r.data.moduleName,e.ruleForm.serverName=r.data.serverName,e.ruleForm.projectName=r.data.projectName,e.ruleForm.repoAddr=r.data.repoAddr,e.ruleForm.protobufFile="")}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var r=new FormData;t.fileList.forEach(function(e){r.append("files",e.raw)});var o=appConfig.spongeServiceAddr+"/uploadFiles";c.a.post(o,r).then(function(e){if(0==e.data.code){var r=appConfig.spongeServiceAddr+"/generate",o="micro rpc-gw-pb --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --project-name="+t.ruleForm.projectName+" --repo-addr="+t.ruleForm.repoAddr+" --protobuf-file="+e.data.data;t.$refs.downloadCode.execution(r,t.path,o,t.helpInfo)}else t.$message.error(e.data.msg)}).catch(function(e){t.$message.error("下载代码失败")})})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr}},handleOnchange:function(e,t){this.ruleForm.protobufFile=e.name,this.fileList=t,0!==t.length&&this.$refs.ruleForm.validateField("protobufFile")},handleOnRemove:function(e,t){0===t.length&&(this.ruleForm.protobufFile="",this.$refs.ruleForm.validateField("protobufFile"))},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},H={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[r("div",{staticClass:"title"},[r("h3",[e._v(e._s(e.title))])]),e._v(" "),r("div",{staticClass:"form-style"},[r("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[r("el-form-item",{attrs:{label:"proto文件",prop:"protobufFile"}},[r("el-upload",{staticClass:"upload-demo",attrs:{drag:"",multiple:"",accept:".proto",action:"#","auto-upload":!1,"on-change":e.handleOnchange,"on-remove":e.handleOnRemove,"file-list":e.fileList}},[r("i",{staticClass:"el-icon-upload"}),e._v(" "),r("div",{staticClass:"el-upload__text"},[r("em",[e._v("点击选择proto文件")]),r("br"),e._v("或将文件拖到此处，支持多文件\n            ")])])],1),e._v(" "),r("el-form-item",{staticStyle:{"margin-top":"50px"},attrs:{label:"服务名称",prop:"serverName"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"module名称",prop:"moduleName"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[r("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),r("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              go.mod文件的module名称\n            ")])])],1),e._v(" "),r("el-form-item",{attrs:{label:"项目名称",prop:"projectName"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.projectName,callback:function(t){e.$set(e.ruleForm,"projectName","string"==typeof t?t.trim():t)},expression:"ruleForm.projectName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"镜像仓库地址"}},[r("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.repoAddr,callback:function(t){e.$set(e.ruleForm,"repoAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.repoAddr"}}),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[r("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),r("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              镜像仓库地址，默认值是image-repo-host，这个参数用在构建docker镜像、k8s的部署脚本上，如果使用docker官方镜像仓库，只需填写注册docker仓库的用户名，如果使用私有仓库地址，需要填写完整仓库地址。\n            ")])])],1),e._v(" "),r("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),r("div",{staticClass:"conform-btns"},[r("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("重置")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("下载代码")]),e._v(" "),r("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var K=r("VU/8")(O,H,!1,function(e){r("vwbQ")},"data-v-43f20bf0",null).exports,Q={name:"YamlConfig",data:function(){return{title:"生成config代码",path:"yaml-config",helpInfo:"\n      <p>把yaml配置转为go struct，并包含读取yaml配置的代码。</p>\n      ",labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,fileList:[],ruleForm:{yamlFile:""},rules:{yamlFile:[{required:!0,message:"请选择yaml文件",trigger:"change"}]}}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;c.a.get(t).then(function(t){0==t.data.code&&(e.ruleForm.yamlFile="")}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var r=new FormData;t.fileList.forEach(function(e){r.append("files",e.raw)});var o=appConfig.spongeServiceAddr+"/uploadFiles";c.a.post(o,r).then(function(e){if(0==e.data.code){var r=appConfig.spongeServiceAddr+"/generate",o="config --yaml-file="+e.data.data;t.$refs.downloadCode.execution(r,t.path,o,t.helpInfo)}else t.$message.error(e.data.msg)}).catch(function(e){t.$message.error("下载代码失败")})})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr}},handleOnchange:function(e,t){this.ruleForm.yamlFile=e.name,this.fileList=t,0!==t.length&&this.$refs.ruleForm.validateField("yamlFile")},handleOnRemove:function(e,t){0===t.length&&(this.ruleForm.yamlFile="",this.$refs.ruleForm.validateField("yamlFile"))},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},G={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[r("div",{staticClass:"title"},[r("h3",[e._v(e._s(e.title))])]),e._v(" "),r("div",{staticClass:"form-style"},[r("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"30%",model:e.ruleForm,rules:e.rules}},[r("el-form-item",{attrs:{label:"yaml文件",prop:"yamlFile"}},[r("el-upload",{staticClass:"upload-demo",attrs:{drag:"",accept:".yaml,.yml",action:"#","auto-upload":!1,"on-change":e.handleOnchange,"on-remove":e.handleOnRemove,"file-list":e.fileList}},[r("i",{staticClass:"el-icon-upload"}),e._v(" "),r("div",{staticClass:"el-upload__text"},[r("em",[e._v("点击选择yaml文件")]),e._v("或将文件拖到此处\n            ")])])],1),e._v(" "),r("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),r("div",{staticClass:"conform-btns"},[r("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("下载代码")]),e._v(" "),r("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var X=r("VU/8")(Q,G,!1,function(e){r("x9f2")},"data-v-15026620",null).exports;o.default.use(s.a);var Y=new s.a({mode:"history",routes:[{path:"/ui",component:m},{path:"/ui/web-http",component:g},{path:"/ui/web-handler",component:w},{path:"/ui/web-dao",component:N},{path:"/ui/web-model",component:x},{path:"/ui/micro-rpc",component:A},{path:"/ui/micro-rpc-cli",component:q},{path:"/ui/micro-rpc-pb",component:V},{path:"/ui/micro-rpc-gw-pb",component:K},{path:"/ui/micro-service",component:R},{path:"/ui/micro-protobuf",component:E},{path:"/ui/web-http-pb",component:M},{path:"/ui/yaml-config",component:X},{path:"/ui/download",component:f},{path:"/",redirect:"/ui/"}]}),Z=(r("tvR6"),r("zL8q")),J=r.n(Z);o.default.use(J.a),o.default.config.productionTip=!1,new o.default({el:"#app",router:Y,components:{App:i},template:"<App/>"})},O3iw:function(e,t){},OvWb:function(e,t){},Pyze:function(e,t){},X4KW:function(e,t,r){e.exports=r.p+"static/img/sponge-framework.9cc26cd.png"},XcvK:function(e,t){},ZQPb:function(e,t){},bDu7:function(e,t){},dpHK:function(e,t){},ebUW:function(e,t,r){e.exports=r.p+"static/img/wechat.4ce8c69.jpg"},hIB5:function(e,t,r){e.exports=r.p+"static/img/go-sponge-logo.8d1efd3.png"},lWLy:function(e,t){},qynW:function(e,t,r){e.exports=r.p+"static/img/microservices-framework.688c170.png"},se0f:function(e,t){},tvR6:function(e,t){},vkh3:function(e,t){},vwbQ:function(e,t){},x9f2:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.708adaad1291500f11c0.js.map