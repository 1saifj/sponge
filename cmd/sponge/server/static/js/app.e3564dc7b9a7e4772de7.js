webpackJsonp([1],{"+0BY":function(e,t){},"+Yss":function(e,t){},"7b6P":function(e,t){},"7r31":function(e,t){},AdFg:function(e,t){},C9oJ:function(e,t){},CFbW:function(e,t){},CkVH:function(e,t){},IQTZ:function(e,t){},IQll:function(e,t){},K2dy:function(e,t){},MwRp:function(e,t){},NExi:function(e,t){},NHnr:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("7+uW"),a={name:"App",data:function(){return{isCollapse:!1,collapseSize:"320px",toggle:!1,block:!0,collapsebgcolor:"",dialogTableVisible:!1,logoImageSrc:o("hIB5"),logoImagePosition:"15%",wechatImageSrc:o("ebUW"),currentMenu:"/ui",items:[{name:"SQL",id:"1",subitem:[{name:"Web类型",id:"1-1",subitem:[{name:"创建web项目",id:"/ui/web-http"},{name:"生成handler CRUD代码",id:"/ui/web-handler"}]},{name:"RPC类型",id:"1-2",subitem:[{name:"创建rpc项目",id:"/ui/micro-rpc"},{name:"生成service CRUD代码",id:"/ui/micro-service"},{name:"生成protobuf描述信息",id:"/ui/micro-protobuf"}]}]},{name:"Protobuf",id:"2",subitem:[{name:"Web类型",id:"2-1",subitem:[{name:"创建web项目",id:"/ui/web-http-pb"},{name:"创建rpc gateway项目",id:"/ui/micro-rpc-gw-pb"}]},{name:"RPC类型",id:"2-2",subitem:[{name:"创建rpc项目",id:"/ui/micro-rpc-pb"}]}]},{name:"Public",id:"3",subitem:[{name:"Yaml",id:"3-1",subitem:[{name:"生成config代码",id:"/ui/yaml-config"}]},{name:"Dao",id:"3-2",subitem:[{name:"生成dao CRUD代码",id:"/ui/web-dao"}]},{name:"Model",id:"3-3",subitem:[{name:"生成model代码",id:"/ui/web-model"}]},{name:"RPC client",id:"3-4",subitem:[{name:"生成rpc client代码",id:"/ui/micro-rpc-cli"}]}]}],languageOptions:[{value:"English",label:"English"},{value:"中文",label:"中文"}],languageValue:"中文",homeRoute:"/ui",webHttpRoute:"/ui/web-http",webHandlerRoute:"/ui/web-handler",webDaoRoute:"/ui/web-dao",webModelRoute:"/ui/web-model",microRPCRoute:"/ui/micro-rpc",microServiceRoute:"/ui/micro-service",microRPCClientRoute:"/ui/micro-rpc-cli",microRPCPbRoute:"/ui/micro-rpc-pb",microRPCGwPbRoute:"/ui/micro-rpc-gw-pb",microProtobufRoute:"/ui/micro-protobuf",webHTTPPbRoute:"/ui/web-http-pb",yamlConfigRoute:"/ui/yaml-config",downloadCodeRoute:"/ui/download"}},watch:{$route:function(e){this.currentMenu=e.path}},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},created:function(){"en"==localStorage.getItem("localeLanguage")?(this.$i18n.locale="en",this.languageValue="English"):(this.$i18n.locale="cn",this.languageValue="中文"),this.adaptedRouteByLanguage(),this.currentMenu=this.$route.path,window.addEventListener("resize",this.handleResize)},beforeDestroy:function(){window.removeEventListener("resize",this.handleResize)},methods:{handleResize:function(e){this.fullWidth=document.documentElement.clientWidth},handleSelect:function(e,t){},handleOpen:function(e,t){},handleClose:function(e,t){},clickHandle:function(e){},collapseStatus:function(){this.toggle=!this.toggle,this.block=!this.block,this.isCollapse=!this.isCollapse,this.isCollapse?(this.collapseSize="0px",this.logoImagePosition="0%"):(this.collapseSize="320px",this.logoImagePosition="15%")},changebgcolor:function(){this.collapsebgcolor="#66B1FF"},clearcolor:function(){this.collapsebgcolor=""},changeLanguage:function(e){this.languageValue=e,"中文"===e?(this.$i18n.locale="cn",localStorage.setItem("localeLanguage","cn")):(this.$i18n.locale="en",localStorage.setItem("localeLanguage","en")),this.adaptedRouteByLanguage(),this.$router.push(this.homeRoute),window.location.reload()},adaptedRouteByLanguage:function(){var e="";"en"==this.$i18n.locale&&(e="/en"),this.homeRoute=e+this.homeRoute.replace("/en",""),this.webHttpRoute=e+this.webHttpRoute.replace("/en",""),this.webHandlerRoute=e+this.webHandlerRoute.replace("/en",""),this.webDaoRoute=e+this.webDaoRoute.replace("/en",""),this.webModelRoute=e+this.webModelRoute.replace("/en",""),this.microRPCRoute=e+this.microRPCRoute.replace("/en",""),this.microRPCClientRoute=e+this.microRPCClientRoute.replace("/en",""),this.microRPCPbRoute=e+this.microRPCPbRoute.replace("/en",""),this.microRPCGwPbRoute=e+this.microRPCGwPbRoute.replace("/en",""),this.microServiceRoute=e+this.microServiceRoute.replace("/en",""),this.microProtobufRoute=e+this.microProtobufRoute.replace("/en",""),this.webHTTPPbRoute=e+this.webHTTPPbRoute.replace("/en",""),this.yamlConfigRoute=e+this.yamlConfigRoute.replace("/en",""),this.downloadCodeRoute=e+this.downloadCodeRoute.replace("/en","")},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0,this.logoImagePosition="0%"):(this.spanSize=16,this.offsetSize=4,this.logoImagePosition="15%")}}},i={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("div",[o("el-container",[o("el-header",{staticStyle:{height:"140px","border-bottom":"1px solid #eee"}},[o("div",{staticClass:"header-image",style:{"padding-left":e.logoImagePosition}},[o("el-image",{staticStyle:{height:"80px"},attrs:{src:e.logoImageSrc}})],1),e._v(" "),o("div",{staticClass:"menuControl",style:{"background-color":e.collapsebgcolor},on:{mouseenter:e.changebgcolor,mouseleave:e.clearcolor,click:e.collapseStatus}},[o("i",{directives:[{name:"show",rawName:"v-show",value:e.block,expression:"block"}],staticClass:"el-icon-s-fold"}),e._v(" "),o("i",{directives:[{name:"show",rawName:"v-show",value:e.toggle,expression:"toggle"}],staticClass:"el-icon-s-unfold"})]),e._v(" "),o("div",{staticStyle:{float:"right","margin-top":"-15px"}},[o("el-select",{staticClass:"languageClass",on:{change:e.changeLanguage},model:{value:e.languageValue,callback:function(t){e.languageValue=t},expression:"languageValue"}},e._l(e.languageOptions,function(e){return o("el-option",{key:e.value,staticStyle:{"font-size":"smaller"},attrs:{label:e.label,value:e.value}})}),1)],1)]),e._v(" "),o("el-container",[o("el-aside",{staticClass:"aside-menu",attrs:{width:e.collapseSize}},[o("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:"","default-active":"$router.currentRoute.path","default-active":e.currentMenu,collapse:e.isCollapse},on:{select:e.handleSelect,open:e.handleOpen,close:e.handleClose}},[o("el-menu-item",{attrs:{index:e.homeRoute}},[o("i",{staticClass:"el-icon-s-home"}),e._v(" "),o("span",{staticClass:"home-class",attrs:{slot:"title"},slot:"title"},[e._v("Home")])]),e._v(" "),o("el-submenu",{attrs:{index:"1"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-coin"}),e._v(" "),o("span",{staticClass:"el-menu-span1",attrs:{slot:"title"},slot:"title"},[e._v("SQL")])]),e._v(" "),o("el-submenu",{attrs:{index:"1-1"}},[o("span",{staticClass:"el-menu-span2",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$t("navMenu.webType")))]),e._v(" "),o("el-menu-item",{attrs:{index:e.webHttpRoute}},[o("span",{staticClass:"el-menu-span3"},[e._v(e._s(e.$t("navMenu.webHttp"))+"\n                  ")])]),e._v(" "),o("el-menu-item",{attrs:{index:e.webHandlerRoute}},[o("span",{staticClass:"el-menu-span3"},[e._v(e._s(e.$t("navMenu.wehHandler"))+"\n                  ")])])],1),e._v(" "),o("el-submenu",{attrs:{index:"1-2"}},[o("span",{staticClass:"el-menu-span2",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$t("navMenu.microType")))]),e._v(" "),o("el-menu-item",{attrs:{index:e.microRPCRoute}},[o("span",{staticClass:"el-menu-span3"},[e._v(e._s(e.$t("navMenu.microRpc"))+"\n                  ")])]),e._v(" "),o("el-menu-item",{attrs:{index:e.microServiceRoute}},[o("span",{staticClass:"el-menu-span3"},[e._v(e._s(e.$t("navMenu.microService"))+"\n                  ")])]),e._v(" "),o("el-menu-item",{attrs:{index:e.microProtobufRoute}},[o("span",{staticClass:"el-menu-span3"},[e._v(e._s(e.$t("navMenu.microProtobuf"))+"\n                  ")])])],1)],2),e._v(" "),o("el-submenu",{attrs:{index:"2"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-tickets"}),e._v(" "),o("span",{staticClass:"el-menu-span1",attrs:{slot:"title"},slot:"title"},[e._v("Protobuf")])]),e._v(" "),o("el-submenu",{attrs:{index:"2-1"}},[o("span",{staticClass:"el-menu-span2",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$t("navMenu.webType")))]),e._v(" "),o("el-menu-item",{attrs:{index:e.webHTTPPbRoute}},[o("span",{staticClass:"el-menu-span3"},[e._v(e._s(e.$t("navMenu.webHttpPb"))+"\n                  ")])]),e._v(" "),o("el-menu-item",{attrs:{index:e.microRPCGwPbRoute}},[o("span",{staticClass:"el-menu-span3"},[e._v(e._s(e.$t("navMenu.microRpcGwPb"))+"\n                  ")])])],1),e._v(" "),o("el-submenu",{attrs:{index:"2-2"}},[o("span",{staticClass:"el-menu-span2",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$t("navMenu.microType")))]),e._v(" "),o("el-menu-item",{attrs:{index:e.microRPCPbRoute}},[o("span",{staticClass:"el-menu-span3"},[e._v(e._s(e.$t("navMenu.microrpcPb"))+"\n                  ")])])],1)],2),e._v(" "),o("el-submenu",{attrs:{index:"3"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-suitcase"}),e._v(" "),o("span",{staticClass:"el-menu-span1",attrs:{slot:"title"},slot:"title"},[e._v("Public")])]),e._v(" "),o("el-menu-item",{attrs:{index:e.webDaoRoute}},[o("span",{staticClass:"el-menu-span3"},[e._v(e._s(e.$t("navMenu.webDao"))+" ")])]),e._v(" "),o("el-menu-item",{attrs:{index:e.webModelRoute}},[o("span",{staticClass:"el-menu-span3"},[e._v(e._s(e.$t("navMenu.webModel"))+"\n                ")])]),e._v(" "),o("el-menu-item",{attrs:{index:e.yamlConfigRoute}},[o("span",{staticClass:"el-menu-span3"},[e._v(e._s(e.$t("navMenu.yamlConfig"))+"\n                ")])]),e._v(" "),o("el-menu-item",{attrs:{index:e.microRPCClientRoute}},[o("span",{staticClass:"el-menu-span3"},[e._v(e._s(e.$t("navMenu.microRpcCli"))+"\n                ")])])],2)],1)],1),e._v(" "),o("el-container",[o("el-main",[o("router-view")],1),e._v(" "),o("el-footer",[o("div",{staticStyle:{"text-align":"center",position:"relative"}},[o("p",{staticStyle:{"font-style":"italic","font-size":"small",color:"#666"}},[e._v("\n                "+e._s(e.$t("footer.text1"))+"\n                "),o("a",{attrs:{href:"https://github.com/zhufuyi/sponge",target:"_blank"}},[e._v("\n                  star⭐")]),e._v("\n                "+e._s(e.$t("footer.text2"))+"\n                "),o("el-button",{staticStyle:{"font-size":"small"},attrs:{type:"text"},on:{click:function(t){e.dialogTableVisible=!0}}},[e._v(e._s(e.$t("footer.text3")))])],1),e._v(" "),o("el-dialog",{attrs:{title:"加微信进群",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[o("el-image",{staticStyle:{height:"320px"},attrs:{src:e.wechatImageSrc}})],1)],1)])],1)],1)],1)],1)])},staticRenderFns:[]};var l=o("VU/8")(a,i,!1,function(e){o("+Yss")},"data-v-7374f48e",null).exports,n=o("/ocq"),s={name:"Home",data:function(){return{homeImageSrc:o("X4KW"),mircoServiceFrameworkImageSrc:o("qynW")}}},d={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:18,offset:3}},[o("p",{staticStyle:{"margin-bottom":"50px"}},[o("a",{attrs:{href:"https://github.com/zhufuyi/sponge",target:"_blank"}},[e._v("sponge")]),e._v("\n      "+e._s(e.$t("home.text1"))+"\n    ")]),e._v(" "),o("p",[e._v("\n      "+e._s(e.$t("home.text2"))),o("a",{attrs:{href:"https://github.com/zhufuyi/sponge",target:"_blank"}},[e._v("https://github.com/zhufuyi/sponge")])]),e._v(" "),o("p",[e._v("\n      "+e._s(e.$t("home.text3"))),o("a",{attrs:{href:"https://go-sponge.com/zh-cn/",target:"_blank"}},[e._v("https://go-sponge.com/zh-cn/")])]),e._v(" "),o("p",[e._v("\n      "+e._s(e.$t("home.text3_1"))),o("a",{attrs:{href:"https://space.bilibili.com/1440482691/channel/series",target:"_blank"}},[e._v("https://space.bilibili.com/1440482691/channel/series")])]),e._v(" "),o("br"),e._v(" "),o("p",[e._v(e._s(e.$t("home.text4")))]),e._v(" "),o("div",{staticClass:"home-image"},[o("el-image",{attrs:{src:e.homeImageSrc}})],1),e._v(" "),o("br"),e._v(" "),o("p",[e._v(e._s(e.$t("home.text5")))]),e._v(" "),o("div",{staticClass:"microservices-image"},[o("el-image",{attrs:{src:e.mircoServiceFrameworkImageSrc}})],1),e._v(" "),o("br"),e._v(" "),o("p")])],1)},staticRenderFns:[]};var c=o("VU/8")(s,d,!1,function(e){o("TE2q")},null,null).exports,m=o("mtWM"),u={name:"DownloadCode",data:function(){return{downloadStatusDialogVisible:!1,dialogContent:""}},methods:{execution:function(e,t,o,r){var a=this,i={path:t,arg:o};m.a.post(e,i,{responseType:"blob"}).then(function(e){var t=e.data,o=e.headers,i=o["content-disposition"],l=new Blob([t],{type:o["content-type"]}),n=document.createElement("a"),s=window.URL.createObjectURL(l);n.href=s,n.download=decodeURI(i),n.style.display="none",document.body.appendChild(n),n.click(),n.parentNode.removeChild(n),window.URL.revokeObjectURL(s),a.dialogContent=r,a.downloadStatusDialogVisible=!0}).catch(function(e){console.log(e);var t=e.response.headers;""!=t["err-msg"]?a.$message.error(t["err-msg"]):a.$message.error(e.message)})}}},p={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-dialog",{staticClass:"helper-dialog",attrs:{title:"下载成功",visible:e.downloadStatusDialogVisible,width:"50%",center:""},on:{"update:visible":function(t){e.downloadStatusDialogVisible=t}}},[o("h3",{staticStyle:{"margin-left":"30px"}},[e._v("使用帮助：")]),e._v(" "),o("div",{staticStyle:{padding:"10px 30px","font-size":"16px"},domProps:{innerHTML:e._s(e.dialogContent)}})])],1)},staticRenderFns:[]};var f=o("VU/8")(u,p,!1,function(e){o("MwRp")},"data-v-0c8a2652",null).exports,v={name:"WebHTTP",data:function(){return{title:"创建web项目，生成web服务完整项目代码",path:"web-http",helpInfo:'\n      <p>基于sql创建的web项目包括了开发到部署所需的功能，包括了mysql表的增删改查接口和swagger文档， 支持分页、过滤、排序查询。</p>\n      <br />\n      <p>1. 解压文件。</p>\n      <p>2. 打开终端，执行命令更新swagger文档:  <b style="color: green">make docs</b></p>\n      <p>3. 编译和启动服务:  <b style="color: green">make run</b></p>\n      <p>4. 复制 <a href="http://localhost:8080/swagger/index.html" target="_blank">http://localhost:8080/swagger/index.html</a> 到浏览器测试<b>增删改查</b>接口。</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:"",moduleName:"",serverName:"",projectName:"",repoAddr:"",embed:!0},rules:{dsnAddr:[{required:!0,message:"请输入连接mysql dsn地址",trigger:"blur"}],tableName:[{required:!0,message:"请选择表名",trigger:"change"}],moduleName:[{required:!0,message:"请输入go module名称",trigger:"blur"}],serverName:[{required:!0,message:"请输入服务名称",trigger:"blur"}],projectName:[{required:!0,message:"请输入项目名称",trigger:"blur"}]},tableNames:[]}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.dsnAddr=o.data.dsn,e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.serverName=o.data.serverName,e.ruleForm.projectName=o.data.projectName,e.ruleForm.repoAddr=o.data.repoAddr,e.ruleForm.embed=o.data.embed,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r="web http --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --project-name="+t.ruleForm.projectName+" --repo-addr="+t.ruleForm.repoAddr+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+t.ruleForm.tableName+" --embed="+t.ruleForm.embed;t.$refs.downloadCode.execution(o,t.path,r,t.helpInfo)})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr,embed:!0}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var o=appConfig.spongeServiceAddr+"/listTables",r={dsn:this.ruleForm.dsnAddr};m.a.post(o,r,{timeout:5e3}).then(function(o){var r=o.data;e&&(0==r.code?t.$message.success("获取表名成功"):t.$message.error("获取表名失败")),t.tableNames=r.data}).catch(function(e){t.$message.error("获取表名失败")})}},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(其他)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},h={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:0}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"mysql dsn地址",prop:"dsnAddr"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/dbName"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),o("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("获取表名")])],1),e._v(" "),o("el-form-item",{attrs:{label:"表名",prop:"tableName"}},[o("el-select",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"请选择表名",clearable:"",filterable:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              创建服务只支持单表，后面需要添加新API接口，"),o("br"),e._v("在"),o("b",[e._v("【生成handler CRUD代码】")]),e._v("菜单中支持多表批量生成代码。\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"服务名称",prop:"serverName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"module名称",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              go.mod文件的module名称。\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"项目名称",prop:"projectName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.projectName,callback:function(t){e.$set(e.ruleForm,"projectName","string"==typeof t?t.trim():t)},expression:"ruleForm.projectName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"镜像仓库地址"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.repoAddr,callback:function(t){e.$set(e.ruleForm,"repoAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.repoAddr"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              镜像仓库地址，默认值是image-repo-host，这个参数用在构建docker镜像、"),o("br"),e._v("\n              k8s的部署脚本上，如果使用docker官方镜像仓库，只需填写注册docker仓库的用户名，"),o("br"),e._v("\n              如果使用私有仓库地址，需要填写完整仓库地址。\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"嵌入Model"}},[o("el-switch",{model:{value:e.ruleForm.embed,callback:function(t){e.$set(e.ruleForm,"embed",t)},expression:"ruleForm.embed"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              生成model代码的表结构体是否嵌入gorm.Model，"),o("br"),e._v("\n              如果不嵌入gorm.Model，表的列名和struct字段一一对应。\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("重置")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("下载代码")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var g=o("VU/8")(v,h,!1,function(e){o("AdFg")},"data-v-629f40ef",null).exports,b={name:"WebHandler",data:function(){return{title:"生成handler CRUD代码",path:"web-handler",helpInfo:'\n      <p>基于mysql表生成handler代码，包含了增删改查接口、测试代码、swagger文档，支持分页、过滤、排序查询。</p>\n      <br />\n      <p>1. 解压文件，将整个文件夹复制到web项目文件夹下。</p>\n      <p>2. 打开终端，执行命令更新swagger文档:  <b style="color: green">make docs</b></p>\n      <p>3. 编译和启动服务:  <b style="color: green">make run</b></p>\n      <p>4. 复制 <a href="http://localhost:8080/swagger/index.html" target="_blank">http://localhost:8080/swagger/index.html</a> 到浏览器测试<b>增删改查</b>接口。</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:[],moduleName:"",embed:!0},rules:{dsnAddr:[{required:!0,message:"请输入连接mysql dsn地址",trigger:"blur"}],tableName:[{required:!0,message:"请选择表名",trigger:"change"}],moduleName:[{required:!0,message:"请输入go module名称",trigger:"blur"}]},tableNames:[]}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.dsnAddr=o.data.dsn,e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.embed=o.data.embed,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r=t.ruleForm.tableName.join(","),a="web handler --module-name="+t.ruleForm.moduleName+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+r+" --embed="+t.ruleForm.embed;t.$refs.downloadCode.execution(o,t.path,a,t.helpInfo)})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr,embed:!0}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var o=appConfig.spongeServiceAddr+"/listTables",r={dsn:this.ruleForm.dsnAddr};m.a.post(o,r,{timeout:5e3}).then(function(o){var r=o.data;e&&(0==r.code?t.$message.success("获取表名成功"):t.$message.error("获取表名失败")),t.tableNames=r.data}).catch(function(e){t.$message.error("获取表名失败")})}},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(其他)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},F={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"mysql dsn地址",prop:"dsnAddr"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/dbName"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),o("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("获取表名")])],1),e._v(" "),o("el-form-item",{attrs:{label:"表名",prop:"tableName"}},[o("el-select",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"请选择表名，支持多选",clearable:"",filterable:"",multiple:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"module名称",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              例如已存在user服务，这里填写user服务目录下go.mod"),o("br"),e._v("\n              文件里的module名称。\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"嵌入Model"}},[o("el-switch",{model:{value:e.ruleForm.embed,callback:function(t){e.$set(e.ruleForm,"embed",t)},expression:"ruleForm.embed"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              生成model代码的表结构体是否嵌入gorm.Model，如果"),o("br"),e._v("\n              不嵌入gorm.Model，表的列名和struct字段一一对应。\n            ")])])],1)],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}}),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("重置")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("下载代码")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var y=o("VU/8")(b,F,!1,function(e){o("IQll")},"data-v-ad4ca2cc",null).exports,w={name:"WebDao",data:function(){return{title:"生成Dao CRUD代码",path:"web-dao",helpInfo:"\n      <p>基于mysql表生成dao代码，包含了mysql表的增删改查方法、缓存、测试代码，支持分页、过滤、排序查询。</p>\n      <br />\n      <p>主要作用：</p>\n      <p>●  提供给web项目下的handler使用。</p>\n      <p>●  提供给rpc项目下的service使用。</p>\n      ",labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:[],moduleName:"",includeInitDB:!1,embed:!0},rules:{dsnAddr:[{required:!0,message:"请输入连接mysql dsn地址",trigger:"blur"}],tableName:[{required:!0,message:"请选择表名",trigger:"change"}],moduleName:[{required:!0,message:"请输入go module名称",trigger:"blur"}]},tableNames:[]}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.dsnAddr=o.data.dsn,e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.includeInitDB=o.data.includeInitDB,e.ruleForm.embed=o.data.embed,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r=t.ruleForm.tableName.join(","),a="web dao --module-name="+t.ruleForm.moduleName+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+r+" --embed="+t.ruleForm.embed+" --include-init-db="+t.ruleForm.includeInitDB;t.$refs.downloadCode.execution(o,t.path,a,t.helpInfo)})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr,embed:!0}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var o=appConfig.spongeServiceAddr+"/listTables",r={dsn:this.ruleForm.dsnAddr};m.a.post(o,r,{timeout:5e3}).then(function(o){var r=o.data;e&&(0==r.code?t.$message.success("获取表名成功"):t.$message.error("获取表名失败")),t.tableNames=r.data}).catch(function(e){t.$message.error("获取表名失败")})}},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(其他)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},_={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"mysql dsn地址",prop:"dsnAddr"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/dbName"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),o("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("获取表名")])],1),e._v(" "),o("el-form-item",{attrs:{label:"表名",prop:"tableName"}},[o("el-select",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"请选择表名，支持多选",clearable:"",filterable:"",multiple:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"module名称",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              例如已存在user服务，这里填写user服务目录下"),o("br"),e._v("\n              go.mod文件里的module名称。\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"嵌入Model"}},[o("el-switch",{model:{value:e.ruleForm.embed,callback:function(t){e.$set(e.ruleForm,"embed",t)},expression:"ruleForm.embed"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              生成model代码的表结构体是否嵌入gorm.Model，"),o("br"),e._v("\n              如果不嵌入gorm.Model，表的列名和struct字段一一对应。\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"初始化db"}},[o("el-switch",{model:{value:e.ruleForm.includeInitDB,callback:function(t){e.$set(e.ruleForm,"includeInitDB",t)},expression:"ruleForm.includeInitDB"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              选中这个选项生成的dao代码包括了mysql和redis初始化代码，"),o("br"),e._v("\n              通常用在基于protobuf创建的web或rpc的项目中，如果是"),o("br"),e._v("\n              基于mysql表生成的web或rpc项目，则不需要选中。\n            ")])])],1)],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}}),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("重置")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("下载代码")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var S=o("VU/8")(w,_,!1,function(e){o("aVH2")},"data-v-42103d1e",null).exports,C={name:"WebModel",data:function(){return{title:"生成Model代码",path:"web-model",helpInfo:"\n      <p>基于mysql表生成对应gorm的结构体。</p>\n      ",labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:[],embed:!0},rules:{dsnAddr:[{required:!0,message:"请输入连接mysql dsn地址",trigger:"blur"}],tableName:[{required:!0,message:"请选择表名",trigger:"change"}]},tableNames:[]}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.dsnAddr=o.data.dsn,e.ruleForm.embed=o.data.embed,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r=t.ruleForm.tableName.join(","),a="web model --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+r+" --embed="+t.ruleForm.embed;t.$refs.downloadCode.execution(o,t.path,a,t.helpInfo)})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr,embed:!0}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var o=appConfig.spongeServiceAddr+"/listTables",r={dsn:this.ruleForm.dsnAddr};m.a.post(o,r,{timeout:5e3}).then(function(o){var r=o.data;e&&(0==r.code?t.$message.success("获取表名成功"):t.$message.error("获取表名失败")),t.tableNames=r.data}).catch(function(e){t.$message.error("获取表名失败")})}},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(其他)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},x={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"mysql dsn地址",prop:"dsnAddr"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/dbName"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),o("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("获取表名")])],1),e._v(" "),o("el-form-item",{attrs:{label:"表名",prop:"tableName"}},[o("el-select",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"请选择表名，支持多选",clearable:"",filterable:"",multiple:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"嵌入Model"}},[o("el-switch",{model:{value:e.ruleForm.embed,callback:function(t){e.$set(e.ruleForm,"embed",t)},expression:"ruleForm.embed"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              生成model代码的表结构体是否嵌入gorm.Model，"),o("br"),e._v("\n              如果不嵌入gorm.Model，表的列名和struct字段一一对应。\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"初始化db"}},[o("el-switch",{model:{value:e.ruleForm.includeInitDB,callback:function(t){e.$set(e.ruleForm,"includeInitDB",t)},expression:"ruleForm.includeInitDB"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              选中这个选项生成的dao代码包括了mysql和redis初始化代码，"),o("br"),e._v("\n              通常用在基于protobuf创建的web或rpc的项目中，如果是"),o("br"),e._v("\n              基于mysql表生成的web或rpc项目则不需要选中。\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("重置")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("下载代码")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var N=o("VU/8")(C,x,!1,function(e){o("p3TS")},"data-v-13202f78",null).exports,z={name:"MicroRPC",data:function(){return{title:"创建rpc项目，生成rpc服务完整项目代码",path:"micro-rpc",helpInfo:'\n      <p>基于mysql表创建的rpc项目包括了开发到部署所需的功能，包括了mysql表的增删改查方法和测试代码。</p>\n      <br />\n      <p>1. 解压文件。</p>\n      <p>2. 打开终端，执行命令生成*.pb.go文件:  <b style="color: green">make proto</b></p>\n      <p>3. 编译和启动服务:  <b style="color: green">make run</b></p>\n      <p>4. 使用 <b>Goland</b> 或 <b>VS Code</b> 打开文件 <span style="color: chocolate">internal/service/xxx_client_test.go</span>，测试或者压测rpc的<b>增删改查</b>方法。</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:"",moduleName:"",serverName:"",projectName:"",repoAddr:"",embed:!0},rules:{dsnAddr:[{required:!0,message:"请输入连接mysql dsn地址",trigger:"blur"}],tableName:[{required:!0,message:"请选择表名",trigger:"change"}],moduleName:[{required:!0,message:"请输入go module名称",trigger:"blur"}],serverName:[{required:!0,message:"请输入服务名称",trigger:"blur"}],projectName:[{required:!0,message:"请输入项目名称",trigger:"blur"}]},tableNames:[]}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.dsnAddr=o.data.dsn,e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.serverName=o.data.serverName,e.ruleForm.projectName=o.data.projectName,e.ruleForm.repoAddr=o.data.repoAddr,e.ruleForm.embed=o.data.embed,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r="micro rpc --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --project-name="+t.ruleForm.projectName+" --repo-addr="+t.ruleForm.repoAddr+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+t.ruleForm.tableName+" --embed="+t.ruleForm.embed;t.$refs.downloadCode.execution(o,t.path,r,t.helpInfo)})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr,embed:!0}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var o=appConfig.spongeServiceAddr+"/listTables",r={dsn:this.ruleForm.dsnAddr};m.a.post(o,r,{timeout:5e3}).then(function(o){var r=o.data;e&&(0==r.code?t.$message.success("获取表名成功"):t.$message.error("获取表名失败")),t.tableNames=r.data}).catch(function(e){t.$message.error("获取表名失败")})}},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(其他)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},k={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"mysql dsn地址",prop:"dsnAddr"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/dbName"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),o("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("获取表名")])],1),e._v(" "),o("el-form-item",{attrs:{label:"表名",prop:"tableName"}},[o("el-select",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"请选择表名",clearable:"",filterable:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              创建服务只支持单表，后面需要添加新API方法，"),o("br"),e._v("在"),o("b",[e._v("【生成service CRUD代码】")]),e._v("菜单中支持多表批量生成代码。\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"服务名称",prop:"serverName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"module名称",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              go.mod文件的module名称。\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"项目名称",prop:"projectName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.projectName,callback:function(t){e.$set(e.ruleForm,"projectName","string"==typeof t?t.trim():t)},expression:"ruleForm.projectName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"镜像仓库地址"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.repoAddr,callback:function(t){e.$set(e.ruleForm,"repoAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.repoAddr"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              镜像仓库地址，默认值是image-repo-host，这个参数用在构建docker镜像、"),o("br"),e._v("\n              k8s的部署脚本上，如果使用docker官方镜像仓库，只需填写注册docker仓库"),o("br"),e._v("\n              的用户名，如果使用私有仓库地址，需要填写完整仓库地址。\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"嵌入Model"}},[o("el-switch",{model:{value:e.ruleForm.embed,callback:function(t){e.$set(e.ruleForm,"embed",t)},expression:"ruleForm.embed"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              生成model代码的表结构体是否嵌入gorm.Model，如果"),o("br"),e._v("\n              不嵌入gorm.Model，表的列名和struct字段一一对应。\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("重置")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("下载代码")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var $=o("VU/8")(z,k,!1,function(e){o("vfoo")},"data-v-2021e333",null).exports,A={name:"MicroRPCClient",data:function(){return{title:"生成rpc服务连接代码",path:"micro-rpc-cli",helpInfo:"\n      <p>rpc服务连接代码包括常用服务治理功能，例如服务发现、负载均衡、限流、熔断、链路跟踪等。</p>\n      ",labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{moduleName:"",rpcServerNames:""},rules:{moduleName:[{required:!0,message:"请输入go module名称",trigger:"blur"}],rpcServerNames:[{required:!0,message:"请输入rpc服务名称",trigger:"blur"}]}}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.rpcServerNames=o.data.rpcServerNames)}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r="micro rpc-cli --module-name="+t.ruleForm.moduleName+" --rpc-server-name="+t.ruleForm.rpcServerNames;t.$refs.downloadCode.execution(o,t.path,r,t.helpInfo)})},clearFormData:function(){this.ruleForm={}},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},D={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"module名称",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"请输入module名称"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              例如已存在user服务，这里填写user服务目录下"),o("br"),e._v("\n              go.mod文件里的module名称。\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"rpc服务名称",prop:"rpcServerNames"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"多个服务用逗号分隔"},model:{value:e.ruleForm.rpcServerNames,callback:function(t){e.$set(e.ruleForm,"rpcServerNames","string"==typeof t?t.trim():t)},expression:"ruleForm.rpcServerNames"}})],1)],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}}),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("重置")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("下载代码")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var R=o("VU/8")(A,D,!1,function(e){o("+0BY")},"data-v-e66a7c9e",null).exports,W={name:"MicroService",data:function(){return{title:"生成service CRUD代码",path:"micro-service",helpInfo:'\n      <p>基于mysql表生成service代码，包含了mysql表的增删改查方法和测试代码，支持分页、过滤、排序查询。</p>\n      <br />\n      <p>1. 解压文件，将整个文件夹复制到rpc项目文件夹下。</p>\n      <p>2. 打开终端，执行命令生成*.pb.go文件:  <b style="color: green">make proto</b></p>\n      <p>3. 编译和启动服务:  <b style="color: green">make run</b></p>\n      <p>4. 使用 <b>Goland</b> 或 <b>VS Code</b> 打开文件 <span style="color: chocolate">internal/service/xxx_client_test.go</span>，测试或者压测rpc的<b>增删改查</b>方法。</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:[],moduleName:"",serverName:"",embed:!0},rules:{dsnAddr:[{required:!0,message:"请输入连接mysql dsn地址",trigger:"blur"}],tableName:[{required:!0,message:"请选择表名",trigger:"change"}],moduleName:[{required:!0,message:"请输入go module名称",trigger:"blur"}],serverName:[{required:!0,message:"请输入服务名称",trigger:"blur"}]},tableNames:[]}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.dsnAddr=o.data.dsn,e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.serverName=o.data.serverName,e.ruleForm.embed=o.data.embed,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r=t.ruleForm.tableName.join(","),a="micro service --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+r+" --embed="+t.ruleForm.embed;t.$refs.downloadCode.execution(o,t.path,a,t.helpInfo)})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr,embed:!0}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var o=appConfig.spongeServiceAddr+"/listTables",r={dsn:this.ruleForm.dsnAddr};m.a.post(o,r,{timeout:5e3}).then(function(o){var r=o.data;e&&(0==r.code?t.$message.success("获取表名成功"):t.$message.error("获取表名失败")),t.tableNames=r.data}).catch(function(e){t.$message.error("获取表名失败")})}},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(其他)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},q={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"mysql dsn地址",prop:"dsnAddr"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/dbName"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),o("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("获取表名")])],1),e._v(" "),o("el-form-item",{attrs:{label:"表名",prop:"tableName"}},[o("el-select",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"请选择表名，支持多选",clearable:"",filterable:"",multiple:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"服务名称",prop:"serverName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"module名称",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              例如已存在user服务，这里填写user服务目录下"),o("br"),e._v("\n              go.mod文件里的module名称。\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"嵌入Model"}},[o("el-switch",{model:{value:e.ruleForm.embed,callback:function(t){e.$set(e.ruleForm,"embed",t)},expression:"ruleForm.embed"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              生成model代码的表结构体是否嵌入gorm.Model，"),o("br"),e._v("\n              如果不嵌入gorm.Model，表的列名和struct字段一一对应。\n            ")])])],1)],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}}),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("重置")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("下载代码")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var P=o("VU/8")(W,q,!1,function(e){o("l85o")},"data-v-00acf17b",null).exports,j={name:"MicroProtobuf",data:function(){return{title:"生成protobuf描述信息",path:"micro-protobuf",helpInfo:'\n      <p>mysql表转换为protobuf，protobuf描述信息主要是增删改查接口和方法。</p>\n      <br />\n      <p>proto文件除了生成*.pb.go文件外，还可以有下面作用：</p>\n      <p style="text-indent:2em;">● 生成swagger文档。\n      <p style="text-indent:2em;">● 作为protoc的自定义的插件生成需要的代码。\n      <p style="text-indent:2em;">● 提供给sponge创建web项目。\n      <p style="text-indent:2em;">● 提供给sponge创建rpc gateway项目。\n      <p style="text-indent:2em;">● 提供给sponge创建rpc项目。\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:[],moduleName:"",serverName:""},rules:{dsnAddr:[{required:!0,message:"请输入连接mysql dsn地址",trigger:"blur"}],tableName:[{required:!0,message:"请选择表名",trigger:"change"}],moduleName:[{required:!0,message:"请输入go module名称",trigger:"blur"}],serverName:[{required:!0,message:"请输入服务名称",trigger:"blur"}]},tableNames:[]}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.dsnAddr=o.data.dsn,e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.serverName=o.data.serverName,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r=t.ruleForm.tableName.join(","),a="micro protobuf --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+r;t.$refs.downloadCode.execution(o,t.path,a,t.helpInfo)})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var o=appConfig.spongeServiceAddr+"/listTables",r={dsn:this.ruleForm.dsnAddr};m.a.post(o,r,{timeout:5e3}).then(function(o){var r=o.data;e&&(0==r.code?t.$message.success("获取表名成功"):t.$message.error("获取表名失败")),t.tableNames=r.data}).catch(function(e){t.$message.error("获取表名失败")})}},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(其他)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},T={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"mysql dsn地址",prop:"dsnAddr"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/dbName"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),o("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("获取表名")])],1),e._v(" "),o("el-form-item",{attrs:{label:"表名",prop:"tableName"}},[o("el-select",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"请选择表名，支持多选",clearable:"",filterable:"",multiple:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"服务名称",prop:"serverName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"module名称",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              go.mod文件的module名称。\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("重置")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("下载代码")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var U=o("VU/8")(j,T,!1,function(e){o("y54+")},"data-v-c2a73af0",null).exports,I={name:"WebHTTPPb",data:function(){return{title:"创建web项目，生成通用的web服务项目代码",path:"web-http-pb",helpInfo:'\n      <p>基于proto文件创建的web项目包括了开发到部署所需要的功能。通过protoc插件自动生成了模板代码，只需在模板文件编写业务逻辑代码。</p>\n      <br />\n      <p>1. 解压文件。</p>\n      <p>2. 打开终端，执行命令生成*pb.go文件、生成handler模板代码、更新swagger文档:  <b style="color: green">make proto</b></p>\n      <p>3. 打开文件 <span style="color: chocolate">internal/handler/xxx_logic.go</span>, 根据模板代码示例填充代码替换 <span style="color: chocolate">panic("implement me")</span></p>\n      <p>4. 编译和启动服务:  <b style="color: green">make run</b></p>\n      <p>5. 复制 <a href="http://localhost:8080/apis/swagger/index.html" target="_blank">http://localhost:8080/apis/swagger/index.html</a> 到浏览器测试api接口。</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,fileList:[],ruleForm:{moduleName:"",serverName:"",projectName:"",repoAddr:"",protobufFile:""},rules:{moduleName:[{required:!0,message:"请输入go module名称",trigger:"blur"}],serverName:[{required:!0,message:"请输入服务名称",trigger:"blur"}],projectName:[{required:!0,message:"请输入项目名称",trigger:"blur"}],protobufFile:[{required:!0,message:"请选择proto文件",trigger:"change"}]},showProtoDemoDialogVisible:!1,protoDemoContent:'syntax = "proto3";\n\npackage api.edusys.v1;\n\nimport "google/api/annotations.proto";\nimport "protoc-gen-openapiv2/options/annotations.proto";\n\noption go_package = "edusys/api/user/v1;v1";\n\noption (grpc.gateway.protoc_gen_openapiv2.options.openapiv2_swagger) = {\n  host: "localhost:8080"\n  base_path: ""\n  info: {\n    title: "user api docs";\n    version: "v0.0.0";\n  };\n  schemes: HTTP;\n  schemes: HTTPS;\n  consumes: "application/json";\n  produces: "application/json";\n};\n\nservice user {\n  rpc Login(LoginRequest) returns (LoginReply) {\n    option (google.api.http) = {\n      post: "/api/v1/login"\n      body: "*"\n    };\n    option (grpc.gateway.protoc_gen_openapiv2.options.openapiv2_operation) = {\n      summary: "登录",\n      description: "登录",\n      tags: "user",\n    };\n  }\n}\n\nmessage LoginRequest {\n  string email = 1;\n  string password = 2;\n}\n\nmessage LoginReply {\n  string token = 1;\n}'}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.serverName=o.data.serverName,e.ruleForm.projectName=o.data.projectName,e.ruleForm.repoAddr=o.data.repoAddr,e.ruleForm.protobufFile="")}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=new FormData;t.fileList.forEach(function(e){o.append("files",e.raw)});var r=appConfig.spongeServiceAddr+"/uploadFiles";m.a.post(r,o).then(function(e){if(0==e.data.code){var o=appConfig.spongeServiceAddr+"/generate",r="web http-pb --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --project-name="+t.ruleForm.projectName+" --repo-addr="+t.ruleForm.repoAddr+" --protobuf-file="+e.data.data;t.$refs.downloadCode.execution(o,t.path,r,t.helpInfo)}else t.$message.error(e.data.msg)}).catch(function(e){t.$message.error("下载代码失败")})})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr}},handleOnchange:function(e,t){this.ruleForm.protobufFile=e.name,this.fileList=t,0!==t.length&&this.$refs.ruleForm.validateField("protobufFile")},handleOnRemove:function(e,t){0===t.length&&(this.ruleForm.protobufFile="",this.$refs.ruleForm.validateField("protobufFile"))},showProtoFileDemo:function(){this.showProtoDemoDialogVisible=!0},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},E={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"proto文件",prop:"protobufFile"}},[o("el-link",{staticStyle:{"margin-left":"10%","padding-bottom":"5px","font-size":"16px"},attrs:{type:"primary"},on:{click:e.showProtoFileDemo}},[e._v("查看proto文件示例")]),e._v(" "),o("el-upload",{staticClass:"upload-demo",attrs:{drag:"",multiple:"",accept:".proto",action:"#","auto-upload":!1,"on-change":e.handleOnchange,"on-remove":e.handleOnRemove,"file-list":e.fileList}},[o("i",{staticClass:"el-icon-upload"}),e._v(" "),o("div",{staticClass:"el-upload__text"},[o("em",[e._v("点击选择proto文件")]),o("br"),e._v("或将文件拖到此处，支持多文件\n            ")])])],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-top":"50px"},attrs:{label:"服务名称",prop:"serverName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"module名称",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              go.mod文件的module名称。\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"项目名称",prop:"projectName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.projectName,callback:function(t){e.$set(e.ruleForm,"projectName","string"==typeof t?t.trim():t)},expression:"ruleForm.projectName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"镜像仓库地址"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.repoAddr,callback:function(t){e.$set(e.ruleForm,"repoAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.repoAddr"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              镜像仓库地址，默认值是image-repo-host，这个参数用在构建docker镜像、"),o("br"),e._v("\n              k8s的部署脚本上，如果使用docker官方镜像仓库，只需填写注册docker仓库的用户名，"),o("br"),e._v("\n              如果使用私有仓库地址，需要填写完整仓库地址。\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("重置")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("下载代码")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"proto文件示例",visible:e.showProtoDemoDialogVisible,width:"66%",center:""},on:{"update:visible":function(t){e.showProtoDemoDialogVisible=t}}},[o("div",{staticClass:"showProtoDemoDiv"},[o("pre",[e._v(e._s(e.protoDemoContent))])])])],1)],1)},staticRenderFns:[]};var V=o("VU/8")(I,E,!1,function(e){o("SQW+")},"data-v-6824846f",null).exports,L={name:"MicroRPCPb",data:function(){return{title:"创建rpc项目，生成通用的rpc服务代码",path:"micro-rpc-pb",helpInfo:'\n      <p>基于protobuf创建的rpc项目包括了开发到部署所需的功能，通过protoc插件自动生成了模板和测试代码，只需在模板文件编写业务逻辑代码。</p>\n      <br />\n      <p>1. 解压文件。</p>\n      <p>2. 打开终端，执行命令生成*pb.go文件、生成service模板代码:  <b style="color: green">make proto</b></p>\n      <p>3. 打开文件 <span style="color: chocolate">internal/service/xxx.go</span>, 根据模板代码示例填充代码替换 <span style="color: chocolate">panic("implement me")</span></p>\n      <p>4. 编译和启动服务:  <b style="color: green">make run</b></p>\n      <p>5. 使用 <b>Goland</b> 或 <b>VS Code</b> 打开文件 <span style="color: chocolate">internal/service/xxx_client_test.go</span>，测试rpc方法。</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,fileList:[],ruleForm:{moduleName:"",serverName:"",projectName:"",repoAddr:"",protobufFile:""},rules:{moduleName:[{required:!0,message:"请输入go module名称",trigger:"blur"}],serverName:[{required:!0,message:"请输入服务名称",trigger:"blur"}],projectName:[{required:!0,message:"请输入项目名称",trigger:"blur"}],protobufFile:[{required:!0,message:"请选择proto文件",trigger:"change"}]},showProtoDemoDialogVisible:!1,protoDemoContent:'syntax = "proto3";\n\npackage api.edusys.v1;\n\noption go_package = "edusys/api/user/v1;v1";\n\nservice user {\n  rpc Register(RegisterRequest) returns (RegisterReply) {}\n  rpc Login(LoginRequest) returns (LoginReply) {}\n}\n\nmessage RegisterRequest {\n  string email = 1;\n  string password = 2;\n}\n\nmessage RegisterReply {\n  int64   id = 1;\n}\n\nmessage LoginRequest {\n  string email = 1;\n  string password = 2;\n}\n\nmessage LoginReply {\n  string token = 1;\n}'}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.serverName=o.data.serverName,e.ruleForm.projectName=o.data.projectName,e.ruleForm.repoAddr=o.data.repoAddr,e.ruleForm.protobufFile="")}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=new FormData;t.fileList.forEach(function(e){o.append("files",e.raw)});var r=appConfig.spongeServiceAddr+"/uploadFiles";m.a.post(r,o).then(function(e){if(0==e.data.code){var o=appConfig.spongeServiceAddr+"/generate",r="micro rpc-pb --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --project-name="+t.ruleForm.projectName+" --repo-addr="+t.ruleForm.repoAddr+" --protobuf-file="+e.data.data;t.$refs.downloadCode.execution(o,t.path,r,t.helpInfo)}else t.$message.error(e.data.msg)}).catch(function(e){t.$message.error("下载代码失败")})})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr}},handleOnchange:function(e,t){this.ruleForm.protobufFile=e.name,this.fileList=t,0!==t.length&&this.$refs.ruleForm.validateField("protobufFile")},handleOnRemove:function(e,t){0===t.length&&(this.ruleForm.protobufFile="",this.$refs.ruleForm.validateField("protobufFile"))},showProtoFileDemo:function(){this.showProtoDemoDialogVisible=!0},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},M={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"proto文件",prop:"protobufFile"}},[o("el-link",{staticStyle:{"margin-left":"10%","padding-bottom":"5px","font-size":"16px"},attrs:{type:"primary"},on:{click:e.showProtoFileDemo}},[e._v("查看proto文件示例")]),e._v(" "),o("el-upload",{staticClass:"upload-demo",attrs:{drag:"",multiple:"",accept:".proto",action:"#","auto-upload":!1,"on-change":e.handleOnchange,"on-remove":e.handleOnRemove,"file-list":e.fileList}},[o("i",{staticClass:"el-icon-upload"}),e._v(" "),o("div",{staticClass:"el-upload__text"},[o("em",[e._v("点击选择proto文件")]),o("br"),e._v("或将文件拖到此处，支持多文件\n            ")])])],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-top":"50px"},attrs:{label:"服务名称",prop:"serverName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"module名称",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              go.mod文件的module名称。\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"项目名称",prop:"projectName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.projectName,callback:function(t){e.$set(e.ruleForm,"projectName","string"==typeof t?t.trim():t)},expression:"ruleForm.projectName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"镜像仓库地址"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.repoAddr,callback:function(t){e.$set(e.ruleForm,"repoAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.repoAddr"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              镜像仓库地址，默认值是image-repo-host，这个参数用在构建docker镜像、"),o("br"),e._v("\n              k8s的部署脚本上，如果使用docker官方镜像仓库，只需填写注册docker仓库的用户名，"),o("br"),e._v("\n              如果使用私有仓库地址，需要填写完整仓库地址。\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("重置")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("下载代码")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"proto文件示例",visible:e.showProtoDemoDialogVisible,width:"66%",center:""},on:{"update:visible":function(t){e.showProtoDemoDialogVisible=t}}},[o("div",{staticClass:"showProtoDemoDiv"},[o("pre",[e._v(e._s(e.protoDemoContent))])])])],1)],1)},staticRenderFns:[]};var B=o("VU/8")(L,M,!1,function(e){o("K2dy")},"data-v-25390d9c",null).exports,H={name:"MicroRPCGwPb",data:function(){return{title:"创建rpc网关项目，生成rpc网关服务代码",path:"micro-rpc-gw-pb",helpInfo:'\n      <p>基于protobuf创建的rpc gateway项目包括了开发到部署所需要的功能。rpc方法转换为http接口，在http接口里面调用rpc方法。</p>\n      <br />\n      <p>1. 解压文件。</p>\n      <p>2. 打开终端，执行命令生成*pb.go文件、生成service模板代码、更新swagger文档：<b style="color: green">make proto</b></p>\n      <p>3. 打开文件 <span style="color: chocolate">internal/service/xxx_logic.go</span>, 根据模板代码示例填充代码替换 <span style="color: chocolate">panic("implement me")</span></p>\n      <p>4. 编译和启动服务：<b style="color: green">make run</b></p>\n      <p>5. 复制 <a href="http://localhost:8080/apis/swagger/index.html" target="_blank">http://localhost:8080/apis/swagger/index.html</a> 到浏览器测试api接口。</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,fileList:[],ruleForm:{moduleName:"",serverName:"",projectName:"",repoAddr:"",protobufFile:""},rules:{moduleName:[{required:!0,message:"请输入go module名称",trigger:"blur"}],serverName:[{required:!0,message:"请输入服务名称",trigger:"blur"}],projectName:[{required:!0,message:"请输入项目名称",trigger:"blur"}],protobufFile:[{required:!0,message:"请选择proto文件",trigger:"change"}]},showProtoDemoDialogVisible:!1,protoDemoContent:'syntax = "proto3";\n\npackage api.edusys.v1;\n\nimport "google/api/annotations.proto";\nimport "protoc-gen-openapiv2/options/annotations.proto";\n\noption go_package = "edusys/api/user/v1;v1";\n\noption (grpc.gateway.protoc_gen_openapiv2.options.openapiv2_swagger) = {\n  host: "localhost:8080"\n  base_path: ""\n  info: {\n    title: "user api docs";\n    version: "v0.0.0";\n  };\n  schemes: HTTP;\n  schemes: HTTPS;\n  consumes: "application/json";\n  produces: "application/json";\n};\n\nservice user {\n  rpc Login(LoginRequest) returns (LoginReply) {\n    option (google.api.http) = {\n      post: "/api/v1/login"\n      body: "*"\n    };\n    option (grpc.gateway.protoc_gen_openapiv2.options.openapiv2_operation) = {\n      summary: "登录",\n      description: "登录",\n      tags: "user",\n    };\n  }\n}\n\nmessage LoginRequest {\n  string email = 1;\n  string password = 2;\n}\n\nmessage LoginReply {\n  string token = 1;\n}'}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.serverName=o.data.serverName,e.ruleForm.projectName=o.data.projectName,e.ruleForm.repoAddr=o.data.repoAddr,e.ruleForm.protobufFile="")}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=new FormData;t.fileList.forEach(function(e){o.append("files",e.raw)});var r=appConfig.spongeServiceAddr+"/uploadFiles";m.a.post(r,o).then(function(e){if(0==e.data.code){var o=appConfig.spongeServiceAddr+"/generate",r="micro rpc-gw-pb --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --project-name="+t.ruleForm.projectName+" --repo-addr="+t.ruleForm.repoAddr+" --protobuf-file="+e.data.data;t.$refs.downloadCode.execution(o,t.path,r,t.helpInfo)}else t.$message.error(e.data.msg)}).catch(function(e){t.$message.error("下载代码失败")})})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr}},handleOnchange:function(e,t){this.ruleForm.protobufFile=e.name,this.fileList=t,0!==t.length&&this.$refs.ruleForm.validateField("protobufFile")},handleOnRemove:function(e,t){0===t.length&&(this.ruleForm.protobufFile="",this.$refs.ruleForm.validateField("protobufFile"))},showProtoFileDemo:function(){this.showProtoDemoDialogVisible=!0},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},O={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"proto文件",prop:"protobufFile"}},[o("el-link",{staticStyle:{"margin-left":"10%","padding-bottom":"5px","font-size":"16px"},attrs:{type:"primary"},on:{click:e.showProtoFileDemo}},[e._v("查看proto文件示例")]),e._v(" "),o("el-upload",{staticClass:"upload-demo",attrs:{drag:"",multiple:"",accept:".proto",action:"#","auto-upload":!1,"on-change":e.handleOnchange,"on-remove":e.handleOnRemove,"file-list":e.fileList}},[o("i",{staticClass:"el-icon-upload"}),e._v(" "),o("div",{staticClass:"el-upload__text"},[o("em",[e._v("点击选择proto文件")]),o("br"),e._v("或将文件拖到此处，支持多文件\n            ")])])],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-top":"50px"},attrs:{label:"服务名称",prop:"serverName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"module名称",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              go.mod文件的module名称。\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"项目名称",prop:"projectName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.projectName,callback:function(t){e.$set(e.ruleForm,"projectName","string"==typeof t?t.trim():t)},expression:"ruleForm.projectName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"镜像仓库地址"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.repoAddr,callback:function(t){e.$set(e.ruleForm,"repoAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.repoAddr"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              镜像仓库地址，默认值是image-repo-host，这个参数用在构建docker镜像、"),o("br"),e._v("\n              k8s的部署脚本上，如果使用docker官方镜像仓库，只需填写注册docker仓库的用户名，"),o("br"),e._v("\n              如果使用私有仓库地址，需要填写完整仓库地址。\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("重置")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("下载代码")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"proto文件示例",visible:e.showProtoDemoDialogVisible,width:"66%",center:""},on:{"update:visible":function(t){e.showProtoDemoDialogVisible=t}}},[o("div",{staticClass:"showProtoDemoDiv"},[o("pre",[e._v(e._s(e.protoDemoContent))])])])],1)],1)},staticRenderFns:[]};var G=o("VU/8")(H,O,!1,function(e){o("wIRF")},"data-v-754735b1",null).exports,Z={name:"YamlConfig",data:function(){return{title:"生成config代码",path:"yaml-config",helpInfo:"\n      <p>把yaml配置转为go struct，并包含读取yaml配置的代码。</p>\n      ",labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,fileList:[],ruleForm:{yamlFile:""},rules:{yamlFile:[{required:!0,message:"请选择yaml文件",trigger:"change"}]}}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){0==t.data.code&&(e.ruleForm.yamlFile="")}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=new FormData;t.fileList.forEach(function(e){o.append("files",e.raw)});var r=appConfig.spongeServiceAddr+"/uploadFiles";m.a.post(r,o).then(function(e){if(0==e.data.code){var o=appConfig.spongeServiceAddr+"/generate",r="config --yaml-file="+e.data.data;t.$refs.downloadCode.execution(o,t.path,r,t.helpInfo)}else t.$message.error(e.data.msg)}).catch(function(e){t.$message.error("下载代码失败")})})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr}},handleOnchange:function(e,t){this.ruleForm.yamlFile=e.name,this.fileList=t,0!==t.length&&this.$refs.ruleForm.validateField("yamlFile")},handleOnRemove:function(e,t){0===t.length&&(this.ruleForm.yamlFile="",this.$refs.ruleForm.validateField("yamlFile"))},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},Q={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"30%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"yaml文件",prop:"yamlFile"}},[o("el-upload",{staticClass:"upload-demo",attrs:{drag:"",accept:".yaml,.yml",action:"#","auto-upload":!1,"on-change":e.handleOnchange,"on-remove":e.handleOnRemove,"file-list":e.fileList}},[o("i",{staticClass:"el-icon-upload"}),e._v(" "),o("div",{staticClass:"el-upload__text"},[o("em",[e._v("点击选择yaml文件")]),e._v("\n              或将文件拖到此处\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("下载代码")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var K=o("VU/8")(Z,Q,!1,function(e){o("ZKH6")},"data-v-0c3cbf00",null).exports,Y={name:"Home",data:function(){return{homeImageSrc:o("X4KW"),mircoServiceFrameworkImageSrc:o("qynW")}}},X={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:18,offset:3}},[o("p",{staticStyle:{"margin-bottom":"50px"}},[o("a",{attrs:{href:"https://github.com/zhufuyi/sponge",target:"_blank"}},[e._v("sponge")]),e._v("\n      is a powerful tool for generating code for web services and microservices projects, as well as a microservices framework based on gin and grpc encapsulation. Sponge has a wealth of code generation commands for generating web services, rpc services, and rpc gateway service code. With its decoupled modular design, it is easy to build complete project code from development to deployment, making it more convenient, easy, and efficient to develop with the go language.\n    ")]),e._v(" "),o("p",[e._v("\n      github:\n      "),o("a",{attrs:{href:"https://github.com/zhufuyi/sponge",target:"_blank"}},[e._v("https://github.com/zhufuyi/sponge")])]),e._v(" "),o("p",[e._v("\n      documentation:\n      "),o("a",{attrs:{href:"https://go-sponge.com",target:"_blank"}},[e._v("https://go-sponge.com")])]),e._v(" "),o("br"),e._v(" "),o("p",[e._v("sponge generates code framework diagrams.")]),e._v(" "),o("div",{staticClass:"home-image"},[o("el-image",{attrs:{src:e.homeImageSrc}})],1),e._v(" "),o("br"),e._v(" "),o("p",[e._v("Microservice service framework diagram.")]),e._v(" "),o("div",{staticClass:"microservices-image"},[o("el-image",{attrs:{src:e.mircoServiceFrameworkImageSrc}})],1),e._v(" "),o("br"),e._v(" "),o("p")])],1)},staticRenderFns:[]};var J=o("VU/8")(Y,X,!1,function(e){o("uCFk")},null,null).exports,ee={name:"DownloadCode",data:function(){return{downloadStatusDialogVisible:!1,dialogContent:""}},methods:{execution:function(e,t,o,r){var a=this,i={path:t,arg:o};m.a.post(e,i,{responseType:"blob"}).then(function(e){var t=e.data,o=e.headers,i=o["content-disposition"],l=new Blob([t],{type:o["content-type"]}),n=document.createElement("a"),s=window.URL.createObjectURL(l);n.href=s,n.download=decodeURI(i),n.style.display="none",document.body.appendChild(n),n.click(),n.parentNode.removeChild(n),window.URL.revokeObjectURL(s),a.dialogContent=r,a.downloadStatusDialogVisible=!0}).catch(function(e){console.log(e);var t=e.response.headers;""!=t["err-msg"]?a.$message.error(t["err-msg"]):a.$message.error(e.message)})}}},te={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-dialog",{staticClass:"helper-dialog",attrs:{title:"Download successful",visible:e.downloadStatusDialogVisible,width:"50%",center:""},on:{"update:visible":function(t){e.downloadStatusDialogVisible=t}}},[o("h3",{staticStyle:{"margin-left":"30px"}},[e._v("Help for use:")]),e._v(" "),o("div",{staticStyle:{padding:"10px 30px","font-size":"16px"},domProps:{innerHTML:e._s(e.dialogContent)}})])],1)},staticRenderFns:[]};var oe=o("VU/8")(ee,te,!1,function(e){o("awZC")},"data-v-3f23b7f9",null).exports,re={name:"WebHTTP",data:function(){return{title:"Creating web project, generate complete project code for web services",path:"web-http",helpInfo:'\n      <p>The sql-based web project includes the functionality required for development to deployment, including a mysql table add/drop interface and swagger documentation, with support for paging, filtering and sorting queries.</p>\n      <br />\n      <p>1. unzip the code file.</p>\n      <p>2. open a terminal and execute the command to update the swagger documentation:   <b style="color: green">make docs</b></p>\n      <p>3. compiling and starting services:   <b style="color: green">make run</b></p>\n      <p>4. copy <a href="http://localhost:8080/swagger/index.html" target="_blank">http://localhost:8080/swagger/index.html</a> to your browser to test the <b>create/delete/update/query</b> interface.</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:"",moduleName:"",serverName:"",projectName:"",repoAddr:"",embed:!0},rules:{dsnAddr:[{required:!0,message:"please type the mysql dsn address",trigger:"blur"}],tableName:[{required:!0,message:"please select a table name",trigger:"change"}],moduleName:[{required:!0,message:"please type the name of the go module",trigger:"blur"}],serverName:[{required:!0,message:"please type the name of the service",trigger:"blur"}],projectName:[{required:!0,message:"please type the project name",trigger:"blur"}]},tableNames:[]}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.dsnAddr=o.data.dsn,e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.serverName=o.data.serverName,e.ruleForm.projectName=o.data.projectName,e.ruleForm.repoAddr=o.data.repoAddr,e.ruleForm.embed=o.data.embed,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:oe},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r="web http --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --project-name="+t.ruleForm.projectName+" --repo-addr="+t.ruleForm.repoAddr+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+t.ruleForm.tableName+" --embed="+t.ruleForm.embed;t.$refs.downloadCode.execution(o,t.path,r,t.helpInfo)})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr,embed:!0}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var o=appConfig.spongeServiceAddr+"/listTables",r={dsn:this.ruleForm.dsnAddr};m.a.post(o,r,{timeout:5e3}).then(function(o){var r=o.data;e&&(0==r.code?t.$message.success("Get table name success"):t.$message.error("Failed to get table name")),t.tableNames=r.data}).catch(function(e){t.$message.error("Failed to get table name")})}},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(other)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},ae={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:0}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"mysql dsn",prop:"dsnAddr"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/dbName"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),o("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("get tables")])],1),e._v(" "),o("el-form-item",{attrs:{label:"table name",prop:"tableName"}},[o("el-select",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"please select a table name",clearable:"",filterable:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              Creating a server only supports a single table, and new API\n              need"),o("br"),e._v("\n              to be added later, Multi-table batch code generation is"),o("br"),e._v("\n              supported in the menu\n              "),o("b",[e._v("【generate handler CRUD code】")]),e._v(".\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"service name",prop:"serverName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"module name",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              module name for go.mod file.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"project name",prop:"projectName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.projectName,callback:function(t){e.$set(e.ruleForm,"projectName","string"==typeof t?t.trim():t)},expression:"ruleForm.projectName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"docker repository address"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.repoAddr,callback:function(t){e.$set(e.ruleForm,"repoAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.repoAddr"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              Image repository address, the default value is\n              image-repo-host,"),o("br"),e._v("\n              this parameter is used to build docker images, k8s deployment"),o("br"),e._v("\n              scripts, if you use the official docker image repository,\n              just"),o("br"),e._v("\n              fill in the user name of the registered docker repository, if"),o("br"),e._v("\n              you use the private repository address, you need to fill in\n              the"),o("br"),e._v("\n              full repository address.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"embed model"}},[o("el-switch",{model:{value:e.ruleForm.embed,callback:function(t){e.$set(e.ruleForm,"embed",t)},expression:"ruleForm.embed"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              Whether the table structure generating the mod code is\n              embedded"),o("br"),e._v("\n              in gorm.Model or not, if not, the column names and struct\n              fields"),o("br"),e._v("\n              of the table correspond one-to-one.\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("Reset")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Download code")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var ie=o("VU/8")(re,ae,!1,function(e){o("CFbW")},"data-v-95bd466e",null).exports,le={name:"WebHandler",data:function(){return{title:"Generate handler CRUD code",path:"web-handler",helpInfo:'\n      <p>Generate handler code based on mysql tables, contains add, delete and check interfaces, test code, swagger documentation, supports paging, filtering and sorting queries.</p>\n      <br />\n      <p>1. unzip the code file, move the code to the web project folder.</p>\n      <p>2. open a terminal and execute the command to update the swagger documentation:  <b style="color: green">make docs</b></p>\n      <p>3. compiling and starting services:   <b style="color: green">make run</b></p>\n      <p>4. copy the <a href="http://localhost:8080/swagger/index.html" target="_blank">http://localhost:8080/swagger/index.html</a> to your browser to test the <b>create/delete/update/query</b> interface.</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:[],moduleName:"",embed:!0},rules:{dsnAddr:[{required:!0,message:"please type the mysql dsn address",trigger:"blur"}],tableName:[{required:!0,message:"please select a table name",trigger:"change"}],moduleName:[{required:!0,message:"please type the name of the go module",trigger:"blur"}]},tableNames:[]}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.dsnAddr=o.data.dsn,e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.embed=o.data.embed,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:oe},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r=t.ruleForm.tableName.join(","),a="web handler --module-name="+t.ruleForm.moduleName+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+r+" --embed="+t.ruleForm.embed;t.$refs.downloadCode.execution(o,t.path,a,t.helpInfo)})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr,embed:!0}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var o=appConfig.spongeServiceAddr+"/listTables",r={dsn:this.ruleForm.dsnAddr};m.a.post(o,r,{timeout:5e3}).then(function(o){var r=o.data;e&&(0==r.code?t.$message.success("Get table name success"):t.$message.error("Failed to get table name")),t.tableNames=r.data}).catch(function(e){t.$message.error("Failed to get table name")})}},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(other)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},ne={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"mysql dsn",prop:"dsnAddr"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/dbName"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),o("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("get tables")])],1),e._v(" "),o("el-form-item",{attrs:{label:"table name",prop:"tableName"}},[o("el-select",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"multiple selection supported",clearable:"",filterable:"",multiple:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"module name",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              For example, if the user service already exists, this is the"),o("br"),e._v("\n              name of the module in the go.mod file in the user service\n              directory.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"embed model"}},[o("el-switch",{model:{value:e.ruleForm.embed,callback:function(t){e.$set(e.ruleForm,"embed",t)},expression:"ruleForm.embed"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              Whether the table structure generating the mod code is\n              embedded"),o("br"),e._v("\n              in gorm.Model or not, if not, the column names and struct\n              fields"),o("br"),e._v("\n              of the table correspond one-to-one.\n            ")])])],1)],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}}),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("Reset")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Download code")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var se=o("VU/8")(le,ne,!1,function(e){o("ZtZx")},"data-v-647c8640",null).exports,de={name:"WebDao",data:function(){return{title:"Generate dao CRUD code",path:"web-dao",helpInfo:"\n      <p>Generate dao code based on mysql tables, contains CRUD methods, caching, test code for mysql tables, supports paging, filtering and sorting queries.</p>\n      <br />\n      <p>uses: </p>\n      <p>●  provided for use by handlers under web projects.</p>\n      <p>●  provided for use by the service under the rpc project.</p>\n      ",labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:[],moduleName:"",includeInitDB:!1,embed:!0},rules:{dsnAddr:[{required:!0,message:"please type the mysql dsn address",trigger:"blur"}],tableName:[{required:!0,message:"please select a table name",trigger:"change"}],moduleName:[{required:!0,message:"please type the name of the go module",trigger:"blur"}]},tableNames:[]}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.dsnAddr=o.data.dsn,e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.includeInitDB=o.data.includeInitDB,e.ruleForm.embed=o.data.embed,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:oe},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r=t.ruleForm.tableName.join(","),a="web dao --module-name="+t.ruleForm.moduleName+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+r+" --embed="+t.ruleForm.embed+" --include-init-db="+t.ruleForm.includeInitDB;t.$refs.downloadCode.execution(o,t.path,a,t.helpInfo)})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr,embed:!0}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var o=appConfig.spongeServiceAddr+"/listTables",r={dsn:this.ruleForm.dsnAddr};m.a.post(o,r,{timeout:5e3}).then(function(o){var r=o.data;e&&(0==r.code?t.$message.success("Get table name success"):t.$message.error("Failed to get table name")),t.tableNames=r.data}).catch(function(e){t.$message.error("Failed to get table name")})}},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(other)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},ce={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"mysql dsn",prop:"dsnAddr"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/dbName"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),o("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("get tables")])],1),e._v(" "),o("el-form-item",{attrs:{label:"table name",prop:"tableName"}},[o("el-select",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"multiple selection supported",clearable:"",filterable:"",multiple:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"module name",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              For example, if the user service already exists, this is the"),o("br"),e._v("\n              name of the module in the go.mod file in the user service\n              directory.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"embed model"}},[o("el-switch",{model:{value:e.ruleForm.embed,callback:function(t){e.$set(e.ruleForm,"embed",t)},expression:"ruleForm.embed"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              Whether the table structure generating the mod code is\n              embedded"),o("br"),e._v("\n              in gorm.Model or not, if not, the column names and struct\n              fields"),o("br"),e._v("\n              of the table correspond one-to-one.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"initialize db"}},[o("el-switch",{model:{value:e.ruleForm.includeInitDB,callback:function(t){e.$set(e.ruleForm,"includeInitDB",t)},expression:"ruleForm.includeInitDB"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              The dao code generated by checking this option includes mysql"),o("br"),e._v("\n              and redis initialisation code and is usually used in web or\n              rpc"),o("br"),e._v("\n              projects created on the basis of protobuf, but is not\n              required"),o("br"),e._v("\n              if the web or rpc project is generated on the basis of mysql\n              tables.\n            ")])])],1)],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}}),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("Reset")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Download code")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var me=o("VU/8")(de,ce,!1,function(e){o("tD0L")},"data-v-0019c50a",null).exports,ue={name:"WebModel",data:function(){return{title:"Generate Model Code",path:"web-model",helpInfo:"\n      <p>Generate structures corresponding to gorm based on mysql tables.</p>\n      ",labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:[],embed:!0},rules:{dsnAddr:[{required:!0,message:"please type the mysql dsn address",trigger:"blur"}],tableName:[{required:!0,message:"please select a table name",trigger:"change"}]},tableNames:[]}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.dsnAddr=o.data.dsn,e.ruleForm.embed=o.data.embed,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:oe},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r=t.ruleForm.tableName.join(","),a="web model --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+r+" --embed="+t.ruleForm.embed;t.$refs.downloadCode.execution(o,t.path,a,t.helpInfo)})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr,embed:!0}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var o=appConfig.spongeServiceAddr+"/listTables",r={dsn:this.ruleForm.dsnAddr};m.a.post(o,r,{timeout:5e3}).then(function(o){var r=o.data;e&&(0==r.code?t.$message.success("Get table name success"):t.$message.error("Failed to get table name")),t.tableNames=r.data}).catch(function(e){t.$message.error("Failed to get table name")})}},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(other)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},pe={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"mysql dsn",prop:"dsnAddr"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/dbName"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),o("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("get tables")])],1),e._v(" "),o("el-form-item",{attrs:{label:"table name",prop:"tableName"}},[o("el-select",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"multiple selection supported",clearable:"",filterable:"",multiple:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"embed model"}},[o("el-switch",{model:{value:e.ruleForm.embed,callback:function(t){e.$set(e.ruleForm,"embed",t)},expression:"ruleForm.embed"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              Whether the table structure generating the mod code is\n              embedded"),o("br"),e._v("\n              in gorm.Model or not, if not, the column names and struct\n              fields"),o("br"),e._v("\n              of the table correspond one-to-one.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"initialize db"}},[o("el-switch",{model:{value:e.ruleForm.includeInitDB,callback:function(t){e.$set(e.ruleForm,"includeInitDB",t)},expression:"ruleForm.includeInitDB"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              The dao code generated by checking this option includes mysql"),o("br"),e._v("\n              and redis initialisation code and is usually used in web or\n              rpc"),o("br"),e._v("\n              projects created on the basis of protobuf, but is not\n              required"),o("br"),e._v("\n              for web or rpc projects generated on the basis of mysql tables.\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("Reset")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Download code")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var fe=o("VU/8")(ue,pe,!1,function(e){o("CkVH")},"data-v-d66d1896",null).exports,ve={name:"MicroRPC",data:function(){return{title:"Create rpc project, generate complete project code for rpc services",path:"micro-rpc",helpInfo:'\n      <p>The rpc project created based on mysql tables includes the functionality required for development to deployment, including methods for adding, deleting and checking mysql tables and testing code.</p>\n      <br />\n      <p>1. unzip the code file.</p>\n      <p>2. open a terminal and execute the command to generate the *.pb.go file:  <b style="color: green">make proto</b></p>\n      <p>3. compiling and starting services:   <b style="color: green">make run</b></p>\n      <p>4. open the file using <b>Goland</b> or <b>VS Code</b> <span style="color: chocolate">internal/service/xxx_client_test.go</span>, test rpc\'s <b>CRUD</b> method.</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:"",moduleName:"",serverName:"",projectName:"",repoAddr:"",embed:!0},rules:{dsnAddr:[{required:!0,message:"please type the mysql dsn address",trigger:"blur"}],tableName:[{required:!0,message:"please select a table name",trigger:"change"}],moduleName:[{required:!0,message:"please type the name of the go module",trigger:"blur"}],serverName:[{required:!0,message:"please type the name of the service",trigger:"blur"}],projectName:[{required:!0,message:"please type the project name",trigger:"blur"}]},tableNames:[]}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.dsnAddr=o.data.dsn,e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.serverName=o.data.serverName,e.ruleForm.projectName=o.data.projectName,e.ruleForm.repoAddr=o.data.repoAddr,e.ruleForm.embed=o.data.embed,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:oe},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r="micro rpc --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --project-name="+t.ruleForm.projectName+" --repo-addr="+t.ruleForm.repoAddr+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+t.ruleForm.tableName+" --embed="+t.ruleForm.embed;t.$refs.downloadCode.execution(o,t.path,r,t.helpInfo)})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr,embed:!0}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var o=appConfig.spongeServiceAddr+"/listTables",r={dsn:this.ruleForm.dsnAddr};m.a.post(o,r,{timeout:5e3}).then(function(o){var r=o.data;e&&(0==r.code?t.$message.success("Get table name success"):t.$message.error("Failed to get table name")),t.tableNames=r.data}).catch(function(e){t.$message.error("Failed to get table name")})}},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(other)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},he={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"mysql dsn",prop:"dsnAddr"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/dbName"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),o("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("get tables")])],1),e._v(" "),o("el-form-item",{attrs:{label:"table name",prop:"tableName"}},[o("el-select",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"please select a table name",clearable:"",filterable:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              Creating a server only supports a single table, and new API"),o("br"),e._v("\n              methods need to be added later, Multi-table batch code"),o("br"),e._v("\n              generation is supported in the menu"),o("br"),e._v(" "),o("b",[e._v("【generate service CRUD code】")]),e._v(".\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"service name",prop:"serverName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"module name",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              module name for go.mod file.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"project name",prop:"projectName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.projectName,callback:function(t){e.$set(e.ruleForm,"projectName","string"==typeof t?t.trim():t)},expression:"ruleForm.projectName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"docker repository address"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.repoAddr,callback:function(t){e.$set(e.ruleForm,"repoAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.repoAddr"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              Image repository address, the default value is\n              image-repo-host,"),o("br"),e._v("\n              this parameter is used to build docker images, k8s deployment"),o("br"),e._v("\n              scripts, if you use the official docker image repository,\n              just"),o("br"),e._v("\n              fill in the user name of the registered docker repository, if"),o("br"),e._v("\n              you use the private repository address, you need to fill in\n              the"),o("br"),e._v("\n              full repository address.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"embed model"}},[o("el-switch",{model:{value:e.ruleForm.embed,callback:function(t){e.$set(e.ruleForm,"embed",t)},expression:"ruleForm.embed"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              Whether the table structure generating the mod code is\n              embedded"),o("br"),e._v("\n              in gorm.Model or not, if not, the column names and struct\n              fields"),o("br"),e._v("\n              of the table correspond one-to-one.\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("Reset")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Download code")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var ge=o("VU/8")(ve,he,!1,function(e){o("7b6P")},"data-v-ad7bdcde",null).exports,be={name:"MicroRPCClient",data:function(){return{title:"Generate rpc connection code",path:"micro-rpc-cli",helpInfo:"\n      <p>The rpc service connection code includes common service governance features such as service discovery, load balancing, flow limiting, melting, link tracing, etc.</p>\n      ",labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{moduleName:"",rpcServerNames:""},rules:{moduleName:[{required:!0,message:"please type the name of the go module",trigger:"blur"}],rpcServerNames:[{required:!0,message:"please type the name of the rpc server",trigger:"blur"}]}}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.rpcServerNames=o.data.rpcServerNames)}).catch(function(e){})},components:{DownloadCode:oe},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r="micro rpc-cli --module-name="+t.ruleForm.moduleName+" --rpc-server-name="+t.ruleForm.rpcServerNames;t.$refs.downloadCode.execution(o,t.path,r,t.helpInfo)})},clearFormData:function(){this.ruleForm={}},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},Fe={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"module name",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"please type the name of the module"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              for example, if the user service already exists, this is the\n              "),o("br"),e._v("\n              name of the module in the go.mod file in the user service "),o("br"),e._v("\n              directory.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"rpc server name",prop:"rpcServerNames"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"separating multiple servers with commas"},model:{value:e.ruleForm.rpcServerNames,callback:function(t){e.$set(e.ruleForm,"rpcServerNames","string"==typeof t?t.trim():t)},expression:"ruleForm.rpcServerNames"}})],1)],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}}),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("Reset")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Download code")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var ye=o("VU/8")(be,Fe,!1,function(e){o("o1kb")},"data-v-66405154",null).exports,we={name:"MicroService",data:function(){return{title:"Generate service CRUD code",path:"micro-service",helpInfo:'\n      <p>Generate service code based on mysql table, including mysql table adding, deleting and checking methods and test code, supporting paging, filtering and sorting queries.</p>\n      <br />\n      <p>1. unzip the code file</p>\n      <p>2. move the code to the rpc project folder.</p>\n      <p>3. open a terminal and execute the command to generate the *.pb.go file:  <b style="color: green">make proto</b></p>\n      <p>4. compiling and starting services:   <b style="color: green">make run</b></p>\n      <p>5. open the file using <b>Goland</b> or <b>VS Code</b> <span style="color: chocolate">internal/service/xxx_client_test.go</span>, test rpc\'s <b>CRUD</b> method.</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:[],moduleName:"",serverName:"",embed:!0},rules:{dsnAddr:[{required:!0,message:"please type the mysql dsn address",trigger:"blur"}],tableName:[{required:!0,message:"please select a table name",trigger:"change"}],moduleName:[{required:!0,message:"please type the name of the go module",trigger:"blur"}],serverName:[{required:!0,message:"please type the name of the service",trigger:"blur"}]},tableNames:[]}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.dsnAddr=o.data.dsn,e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.serverName=o.data.serverName,e.ruleForm.embed=o.data.embed,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:oe},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r=t.ruleForm.tableName.join(","),a="micro service --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+r+" --embed="+t.ruleForm.embed;t.$refs.downloadCode.execution(o,t.path,a,t.helpInfo)})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr,embed:!0}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var o=appConfig.spongeServiceAddr+"/listTables",r={dsn:this.ruleForm.dsnAddr};m.a.post(o,r,{timeout:5e3}).then(function(o){var r=o.data;e&&(0==r.code?t.$message.success("Get table name success"):t.$message.error("Failed to get table name")),t.tableNames=r.data}).catch(function(e){t.$message.error("Failed to get table name")})}},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(other)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},_e={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"mysql dsn",prop:"dsnAddr"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/dbName"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),o("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("get tables")])],1),e._v(" "),o("el-form-item",{attrs:{label:"table name",prop:"tableName"}},[o("el-select",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"multiple selection supported",clearable:"",filterable:"",multiple:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"service name",prop:"serverName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"module name",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              For example, if the user service already exists, this is the"),o("br"),e._v("\n              name of the module in the go.mod file in the user service\n              directory.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"embed model"}},[o("el-switch",{model:{value:e.ruleForm.embed,callback:function(t){e.$set(e.ruleForm,"embed",t)},expression:"ruleForm.embed"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              Whether the table structure generating the mod code is\n              embedded"),o("br"),e._v("\n              in gorm.Model or not, if not, the column names and struct\n              fields"),o("br"),e._v("\n              of the table correspond one-to-one.\n            ")])])],1)],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}}),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("Reset")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Download code")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var Se=o("VU/8")(we,_e,!1,function(e){o("7r31")},"data-v-335ea07e",null).exports,Ce={name:"MicroProtobuf",data:function(){return{title:"Generate protobuf description information",path:"micro-protobuf",helpInfo:'\n      <p>The mysql table is converted to a protobuf, which describes the information mainly in terms of CRUD interfaces and methods.</p>\n      <br />\n      <p>the proto file, in addition to generating the *.pb.go file, can also have the following roles: </p>\n      <p style="text-indent:2em;">● generate swagger documents.\n      <p style="text-indent:2em;">● generate the required code as a custom plug-in for protoc.\n      <p style="text-indent:2em;">● provided to sponge to create web projects.\n      <p style="text-indent:2em;">● provided to sponge to create rpc gateway projects.\n      <p style="text-indent:2em;">● provided for sponge to create rpc projects.\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:[],moduleName:"",serverName:""},rules:{dsnAddr:[{required:!0,message:"please type the mysql dsn address",trigger:"blur"}],tableName:[{required:!0,message:"please select a table name",trigger:"change"}],moduleName:[{required:!0,message:"please type the name of the go module",trigger:"blur"}],serverName:[{required:!0,message:"please type the name of the service",trigger:"blur"}]},tableNames:[]}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.dsnAddr=o.data.dsn,e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.serverName=o.data.serverName,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:oe},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r=t.ruleForm.tableName.join(","),a="micro protobuf --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+r;t.$refs.downloadCode.execution(o,t.path,a,t.helpInfo)})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var o=appConfig.spongeServiceAddr+"/listTables",r={dsn:this.ruleForm.dsnAddr};m.a.post(o,r,{timeout:5e3}).then(function(o){var r=o.data;e&&(0==r.code?t.$message.success("Get table names success"):t.$message.error("Failed to get table name")),t.tableNames=r.data}).catch(function(e){t.$message.error("Failed to get table name")})}},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(other)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},xe={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"mysql dsn",prop:"dsnAddr"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/dbName"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),o("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("get tables")])],1),e._v(" "),o("el-form-item",{attrs:{label:"table",prop:"tableName"}},[o("el-select",{staticStyle:{width:"80%","font-size":"small"},attrs:{placeholder:"multiple selections are supported",clearable:"",filterable:"",multiple:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"service name",prop:"serverName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"module name",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              Module name for go.mod file.\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("Reset")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Download code")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var Ne=o("VU/8")(Ce,xe,!1,function(e){o("C9oJ")},"data-v-476f13eb",null).exports,ze={name:"WebHTTPPb",data:function(){return{title:"Creating web project, cenerate generic web service project code",path:"web-http-pb",helpInfo:'\n      <p>The web project created based on the proto file includes the functionality required from development to deployment. The template code is automatically generated via the protoc plugin and only the business logic code needs to be written in the template file.</p>\n      <br />\n      <p>1. unzip the code file.</p>\n      <p>2. open a terminal and execute the commands to generate the *pb.go file, generate the handler template code and update the swagger documentation: <b style="color: green">make proto</b></p>\n      <p>3. open file <span style="color: chocolate">internal/handler/xxx_logic.go</span>, replace <span style="color: chocolate">panic("implement me")</span> according to template code example.</p>\n      <p>4. compiling and starting services:   <b style="color: green">make run</b></p>\n      <p>5. copy <a href="http://localhost:8080/apis/swagger/index.html" target="_blank">http://localhost:8080/apis/swagger/index.html</a> to your browser to test the api interface.</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,fileList:[],ruleForm:{moduleName:"",serverName:"",projectName:"",repoAddr:"",protobufFile:""},rules:{moduleName:[{required:!0,message:"please type the name of the go module",trigger:"blur"}],serverName:[{required:!0,message:"please type the name of the service",trigger:"blur"}],projectName:[{required:!0,message:"please type the project name",trigger:"blur"}],protobufFile:[{required:!0,message:"please select the proto file",trigger:"change"}]},showProtoDemoDialogVisible:!1,protoDemoContent:'syntax = "proto3";\n\npackage api.edusys.v1;\n\nimport "google/api/annotations.proto";\nimport "protoc-gen-openapiv2/options/annotations.proto";\n\noption go_package = "edusys/api/user/v1;v1";\n\noption (grpc.gateway.protoc_gen_openapiv2.options.openapiv2_swagger) = {\n  host: "localhost:8080"\n  base_path: ""\n  info: {\n    title: "user api docs";\n    version: "v0.0.0";\n  };\n  schemes: HTTP;\n  schemes: HTTPS;\n  consumes: "application/json";\n  produces: "application/json";\n};\n\nservice user {\n  rpc Login(LoginRequest) returns (LoginReply) {\n    option (google.api.http) = {\n      post: "/api/v1/login"\n      body: "*"\n    };\n    option (grpc.gateway.protoc_gen_openapiv2.options.openapiv2_operation) = {\n      summary: "login",\n      description: "login",\n      tags: "user",\n    };\n  }\n}\n\nmessage LoginRequest {\n  string email = 1;\n  string password = 2;\n}\n\nmessage LoginReply {\n  string token = 1;\n}'}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.serverName=o.data.serverName,e.ruleForm.projectName=o.data.projectName,e.ruleForm.repoAddr=o.data.repoAddr,e.ruleForm.protobufFile="")}).catch(function(e){})},components:{DownloadCode:oe},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=new FormData;t.fileList.forEach(function(e){o.append("files",e.raw)});var r=appConfig.spongeServiceAddr+"/uploadFiles";m.a.post(r,o).then(function(e){if(0==e.data.code){var o=appConfig.spongeServiceAddr+"/generate",r="web http-pb --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --project-name="+t.ruleForm.projectName+" --repo-addr="+t.ruleForm.repoAddr+" --protobuf-file="+e.data.data;t.$refs.downloadCode.execution(o,t.path,r,t.helpInfo)}else t.$message.error(e.data.msg)}).catch(function(e){t.$message.error("failed to download code")})})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr}},handleOnchange:function(e,t){this.ruleForm.protobufFile=e.name,this.fileList=t,0!==t.length&&this.$refs.ruleForm.validateField("protobufFile")},handleOnRemove:function(e,t){0===t.length&&(this.ruleForm.protobufFile="",this.$refs.ruleForm.validateField("protobufFile"))},showProtoFileDemo:function(){this.showProtoDemoDialogVisible=!0},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},ke={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"proto file",prop:"protobufFile"}},[o("el-link",{staticStyle:{"margin-left":"10%","padding-bottom":"5px","font-size":"16px"},attrs:{type:"primary"},on:{click:e.showProtoFileDemo}},[e._v("View an example of a proto file")]),e._v(" "),o("el-upload",{staticClass:"upload-demo",attrs:{drag:"",multiple:"",accept:".proto",action:"#","auto-upload":!1,"on-change":e.handleOnchange,"on-remove":e.handleOnRemove,"file-list":e.fileList}},[o("i",{staticClass:"el-icon-upload"}),e._v(" "),o("div",{staticClass:"el-upload__text"},[o("em",[e._v("click to select the proto file")]),o("br"),e._v("or drag the file\n              here, multi-file support\n            ")])])],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-top":"50px"},attrs:{label:"service name",prop:"serverName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"module name",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              module name for go.mod file.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"project name",prop:"projectName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.projectName,callback:function(t){e.$set(e.ruleForm,"projectName","string"==typeof t?t.trim():t)},expression:"ruleForm.projectName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"docker repository address"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.repoAddr,callback:function(t){e.$set(e.ruleForm,"repoAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.repoAddr"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              Image repository address, the default value is\n              image-repo-host,"),o("br"),e._v("\n              this parameter is used to build docker images, k8s deployment"),o("br"),e._v("\n              scripts, if you use the official docker image repository,\n              just"),o("br"),e._v("\n              fill in the user name of the registered docker repository, if"),o("br"),e._v("\n              you use the private repository address, you need to fill in\n              the"),o("br"),e._v("\n              full repository address.\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("Reset")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Download code")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"Example of a proto file",visible:e.showProtoDemoDialogVisible,width:"66%",center:""},on:{"update:visible":function(t){e.showProtoDemoDialogVisible=t}}},[o("div",{staticClass:"showProtoDemoDiv"},[o("pre",[e._v(e._s(e.protoDemoContent))])])])],1)],1)},staticRenderFns:[]};var $e=o("VU/8")(ze,ke,!1,function(e){o("IQTZ")},"data-v-3d0e36ac",null).exports,Ae={name:"MicroRPCPb",data:function(){return{title:"Creating rpc project, generate generic rpc service project code",path:"micro-rpc-pb",helpInfo:'\n      <p>The rpc project created based on protobuf includes the functionality required from development to deployment, with templates and test code automatically generated via the protoc plugin, and only business logic code written in the template files.</p>\n      <br />\n      <p>1. unzip the code file.</p>\n      <p>2. open a terminal and execute the command to generate the *pb.go file and the service template code:   <b style="color: green">make proto</b></p>\n      <p>3. open file <span style="color: chocolate">internal/service/xxx.go</span>, replace <span style="color: chocolate">panic("implement me")</span> according to template code example.</p>\n      <p>4. compiling and starting services:   <b style="color: green">make run</b></p>\n      <p>5. open the file using <b>Goland</b> or <b>VS Code</b> <span style="color: chocolate">internal/service/xxx_client_test.go</span>, testing the rpc method.</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,fileList:[],ruleForm:{moduleName:"",serverName:"",projectName:"",repoAddr:"",protobufFile:""},rules:{moduleName:[{required:!0,message:"please type the name of the go module",trigger:"blur"}],serverName:[{required:!0,message:"please type the name of the service",trigger:"blur"}],projectName:[{required:!0,message:"please type the project name",trigger:"blur"}],protobufFile:[{required:!0,message:"please select the proto file",trigger:"change"}]},showProtoDemoDialogVisible:!1,protoDemoContent:'syntax = "proto3";\n\npackage api.edusys.v1;\n\noption go_package = "edusys/api/user/v1;v1";\n\nservice user {\n  rpc Register(RegisterRequest) returns (RegisterReply) {}\n  rpc Login(LoginRequest) returns (LoginReply) {}\n}\n\nmessage RegisterRequest {\n  string email = 1;\n  string password = 2;\n}\n\nmessage RegisterReply {\n  int64   id = 1;\n}\n\nmessage LoginRequest {\n  string email = 1;\n  string password = 2;\n}\n\nmessage LoginReply {\n  string token = 1;\n}'}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.serverName=o.data.serverName,e.ruleForm.projectName=o.data.projectName,e.ruleForm.repoAddr=o.data.repoAddr,e.ruleForm.protobufFile="")}).catch(function(e){})},components:{DownloadCode:oe},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=new FormData;t.fileList.forEach(function(e){o.append("files",e.raw)});var r=appConfig.spongeServiceAddr+"/uploadFiles";m.a.post(r,o).then(function(e){if(0==e.data.code){var o=appConfig.spongeServiceAddr+"/generate",r="micro rpc-pb --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --project-name="+t.ruleForm.projectName+" --repo-addr="+t.ruleForm.repoAddr+" --protobuf-file="+e.data.data;t.$refs.downloadCode.execution(o,t.path,r,t.helpInfo)}else t.$message.error(e.data.msg)}).catch(function(e){t.$message.error("failed to download code")})})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr}},handleOnchange:function(e,t){this.ruleForm.protobufFile=e.name,this.fileList=t,0!==t.length&&this.$refs.ruleForm.validateField("protobufFile")},handleOnRemove:function(e,t){0===t.length&&(this.ruleForm.protobufFile="",this.$refs.ruleForm.validateField("protobufFile"))},showProtoFileDemo:function(){this.showProtoDemoDialogVisible=!0},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},De={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"proto file",prop:"protobufFile"}},[o("el-link",{staticStyle:{"margin-left":"10%","padding-bottom":"5px","font-size":"16px"},attrs:{type:"primary"},on:{click:e.showProtoFileDemo}},[e._v("View an example of a proto file")]),e._v(" "),o("el-upload",{staticClass:"upload-demo",attrs:{drag:"",multiple:"",accept:".proto",action:"#","auto-upload":!1,"on-change":e.handleOnchange,"on-remove":e.handleOnRemove,"file-list":e.fileList}},[o("i",{staticClass:"el-icon-upload"}),e._v(" "),o("div",{staticClass:"el-upload__text"},[o("em",[e._v("click to select the proto file")]),o("br"),e._v("or drag the file\n              here, multi-file support\n            ")])])],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-top":"50px"},attrs:{label:"service name",prop:"serverName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"module name",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              module name for go.mod file.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"project name",prop:"projectName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.projectName,callback:function(t){e.$set(e.ruleForm,"projectName","string"==typeof t?t.trim():t)},expression:"ruleForm.projectName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"docker repository address"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.repoAddr,callback:function(t){e.$set(e.ruleForm,"repoAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.repoAddr"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              Image repository address, the default value is\n              image-repo-host,"),o("br"),e._v("\n              this parameter is used to build docker images, k8s deployment"),o("br"),e._v("\n              scripts, if you use the official docker image repository,\n              just"),o("br"),e._v("\n              fill in the user name of the registered docker repository, if"),o("br"),e._v("\n              you use the private repository address, you need to fill in\n              the"),o("br"),e._v("\n              full repository address.\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("Reset")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Download code")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"Example of a proto file",visible:e.showProtoDemoDialogVisible,width:"66%",center:""},on:{"update:visible":function(t){e.showProtoDemoDialogVisible=t}}},[o("div",{staticClass:"showProtoDemoDiv"},[o("pre",[e._v(e._s(e.protoDemoContent))])])])],1)],1)},staticRenderFns:[]};var Re=o("VU/8")(Ae,De,!1,function(e){o("guuU")},"data-v-2ef63fef",null).exports,We={name:"MicroRPCGwPb",data:function(){return{title:"Create a rpc gateway project, generate rpc gateway service project code",path:"micro-rpc-gw-pb",helpInfo:'\n      <p>The rpc gateway project based on protobuf includes the functionality required for development to deployment. rpc methods are converted to http interfaces and rpc methods are called inside the http interface.</p>\n      <br />\n      <p>1. unzip the code file.</p>\n      <p>2. open a terminal and execute the commands to generate the *pb.go file, generate the service template code, and update the swagger documentation: <b style="color: green">make proto</b></p>\n      <p>3. open <span style="color: chocolate">internal/service/xxx_logic.go</span> file, replace <span style="color: chocolate">panic("implement me")</span> according to template code example. </p>\n      <p>4. compiling and starting services.<b style="color: green">make run</b></p>\n      <p>5. copy the <a href="http://localhost:8080/apis/swagger/index.html" target="_blank">http://localhost:8080/apis/swagger/index.html</a> to your browser to test the api interface.</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,fileList:[],ruleForm:{moduleName:"",serverName:"",projectName:"",repoAddr:"",protobufFile:""},rules:{moduleName:[{required:!0,message:"please type the name of the go module",trigger:"blur"}],serverName:[{required:!0,message:"please type the name of the service",trigger:"blur"}],projectName:[{required:!0,message:"please type the project name",trigger:"blur"}],protobufFile:[{required:!0,message:"please select the proto file",trigger:"change"}]},showProtoDemoDialogVisible:!1,protoDemoContent:'syntax = "proto3";\n\npackage api.edusys.v1;\n\nimport "google/api/annotations.proto";\nimport "protoc-gen-openapiv2/options/annotations.proto";\n\noption go_package = "edusys/api/user/v1;v1";\n\noption (grpc.gateway.protoc_gen_openapiv2.options.openapiv2_swagger) = {\n  host: "localhost:8080"\n  base_path: ""\n  info: {\n    title: "user api docs";\n    version: "v0.0.0";\n  };\n  schemes: HTTP;\n  schemes: HTTPS;\n  consumes: "application/json";\n  produces: "application/json";\n};\n\nservice user {\n  rpc Login(LoginRequest) returns (LoginReply) {\n    option (google.api.http) = {\n      post: "/api/v1/login"\n      body: "*"\n    };\n    option (grpc.gateway.protoc_gen_openapiv2.options.openapiv2_operation) = {\n      summary: "login",\n      description: "login",\n      tags: "user",\n    };\n  }\n}\n\nmessage LoginRequest {\n  string email = 1;\n  string password = 2;\n}\n\nmessage LoginReply {\n  string token = 1;\n}'}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.serverName=o.data.serverName,e.ruleForm.projectName=o.data.projectName,e.ruleForm.repoAddr=o.data.repoAddr,e.ruleForm.protobufFile="")}).catch(function(e){})},components:{DownloadCode:oe},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=new FormData;t.fileList.forEach(function(e){o.append("files",e.raw)});var r=appConfig.spongeServiceAddr+"/uploadFiles";m.a.post(r,o).then(function(e){if(0==e.data.code){var o=appConfig.spongeServiceAddr+"/generate",r="micro rpc-gw-pb --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --project-name="+t.ruleForm.projectName+" --repo-addr="+t.ruleForm.repoAddr+" --protobuf-file="+e.data.data;t.$refs.downloadCode.execution(o,t.path,r,t.helpInfo)}else t.$message.error(e.data.msg)}).catch(function(e){t.$message.error("failed to download code")})})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr}},handleOnchange:function(e,t){this.ruleForm.protobufFile=e.name,this.fileList=t,0!==t.length&&this.$refs.ruleForm.validateField("protobufFile")},handleOnRemove:function(e,t){0===t.length&&(this.ruleForm.protobufFile="",this.$refs.ruleForm.validateField("protobufFile"))},showProtoFileDemo:function(){this.showProtoDemoDialogVisible=!0},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},qe={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"proto file",prop:"protobufFile"}},[o("el-link",{staticStyle:{"margin-left":"10%","padding-bottom":"5px","font-size":"16px"},attrs:{type:"primary"},on:{click:e.showProtoFileDemo}},[e._v("View an example of a proto file")]),e._v(" "),o("el-upload",{staticClass:"upload-demo",attrs:{drag:"",multiple:"",accept:".proto",action:"#","auto-upload":!1,"on-change":e.handleOnchange,"on-remove":e.handleOnRemove,"file-list":e.fileList}},[o("i",{staticClass:"el-icon-upload"}),e._v(" "),o("div",{staticClass:"el-upload__text"},[o("em",[e._v("click to select the proto file")]),o("br"),e._v("or drag the file\n              here, multi-file support\n            ")])])],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-top":"50px"},attrs:{label:"service name",prop:"serverName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"module name",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              module name for go.mod file.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"project name",prop:"projectName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.projectName,callback:function(t){e.$set(e.ruleForm,"projectName","string"==typeof t?t.trim():t)},expression:"ruleForm.projectName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"docker repository address"}},[o("el-input",{staticStyle:{width:"80%","font-size":"small"},model:{value:e.ruleForm.repoAddr,callback:function(t){e.$set(e.ruleForm,"repoAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.repoAddr"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px","vertical-align":"middle",color:"grey"}}),e._v(" "),o("div",{staticStyle:{padding:"5px"},attrs:{slot:"content"},slot:"content"},[e._v("\n              Image repository address, the default value is\n              image-repo-host,"),o("br"),e._v("\n              this parameter is used to build docker images, k8s deployment"),o("br"),e._v("\n              scripts, if you use the official docker image repository,\n              just"),o("br"),e._v("\n              fill in the user name of the registered docker repository, if"),o("br"),e._v("\n              you use the private repository address, you need to fill in\n              the"),o("br"),e._v("\n              full repository address.\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("Reset")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Download code")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"Example of a proto file",visible:e.showProtoDemoDialogVisible,width:"66%",center:""},on:{"update:visible":function(t){e.showProtoDemoDialogVisible=t}}},[o("div",{staticClass:"showProtoDemoDiv"},[o("pre",[e._v(e._s(e.protoDemoContent))])])])],1)],1)},staticRenderFns:[]};var Pe=o("VU/8")(We,qe,!1,function(e){o("fUlV")},"data-v-aadffe64",null).exports,je={name:"YamlConfig",data:function(){return{title:"Generate config code",path:"yaml-config",helpInfo:"\n      <p>Converts a yaml configuration to a go struct and includes code to read the yaml configuration.</p>\n      ",labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,fileList:[],ruleForm:{yamlFile:""},rules:{yamlFile:[{required:!0,message:"please select the yaml file",trigger:"change"}]}}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){0==t.data.code&&(e.ruleForm.yamlFile="")}).catch(function(e){})},components:{DownloadCode:oe},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=new FormData;t.fileList.forEach(function(e){o.append("files",e.raw)});var r=appConfig.spongeServiceAddr+"/uploadFiles";m.a.post(r,o).then(function(e){if(0==e.data.code){var o=appConfig.spongeServiceAddr+"/generate",r="config --yaml-file="+e.data.data;t.$refs.downloadCode.execution(o,t.path,r,t.helpInfo)}else t.$message.error(e.data.msg)}).catch(function(e){t.$message.error("failed to download code")})})},clearFormData:function(){this.ruleForm={dsnAddr:this.ruleForm.dsnAddr}},handleOnchange:function(e,t){this.ruleForm.yamlFile=e.name,this.fileList=t,0!==t.length&&this.$refs.ruleForm.validateField("yamlFile")},handleOnRemove:function(e,t){0===t.length&&(this.ruleForm.yamlFile="",this.$refs.ruleForm.validateField("yamlFile"))},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):(this.spanSize=16,this.offsetSize=4)}}},Te={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"30%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"yaml file",prop:"yamlFile"}},[o("el-upload",{staticClass:"upload-demo",attrs:{drag:"",accept:".yaml,.yml",action:"#","auto-upload":!1,"on-change":e.handleOnchange,"on-remove":e.handleOnRemove,"file-list":e.fileList}},[o("i",{staticClass:"el-icon-upload"}),e._v(" "),o("div",{staticClass:"el-upload__text"},[o("em",[e._v("Click to select yaml file")]),o("br"),e._v("\n              or drag and drop the file here\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Download code")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var Ue=o("VU/8")(je,Te,!1,function(e){o("NExi")},"data-v-0c829687",null).exports;r.default.use(n.a);var Ie=new n.a({mode:"history",routes:[{path:"*",redirect:"/ui"},{path:"/ui",component:c},{path:"/ui/web-http",component:g},{path:"/ui/web-handler",component:y},{path:"/ui/web-dao",component:S},{path:"/ui/web-model",component:N},{path:"/ui/micro-rpc",component:$},{path:"/ui/micro-rpc-cli",component:R},{path:"/ui/micro-rpc-pb",component:B},{path:"/ui/micro-rpc-gw-pb",component:G},{path:"/ui/micro-service",component:P},{path:"/ui/micro-protobuf",component:U},{path:"/ui/web-http-pb",component:V},{path:"/ui/yaml-config",component:K},{path:"/ui/download",component:f},{path:"/en/ui",component:J},{path:"/en/ui/web-http",component:ie},{path:"/en/ui/web-handler",component:se},{path:"/en/ui/web-dao",component:me},{path:"/en/ui/web-model",component:fe},{path:"/en/ui/micro-rpc",component:ge},{path:"/en/ui/micro-rpc-cli",component:ye},{path:"/en/ui/micro-rpc-pb",component:Re},{path:"/en/ui/micro-rpc-gw-pb",component:Pe},{path:"/en/ui/micro-service",component:Se},{path:"/en/ui/micro-protobuf",component:Ne},{path:"/en/ui/web-http-pb",component:$e},{path:"/en/ui/yaml-config",component:Ue},{path:"/en/ui/download",component:oe}]}),Ee=(o("tvR6"),o("zL8q")),Ve=o.n(Ee),Le=o("Dd8w"),Me=o.n(Le),Be=o("TXmL"),He=o("wUZ8"),Oe=o.n(He),Ge=o("Vi3T"),Ze=o.n(Ge);r.default.use(Be.a);var Qe={en:Me()({},Oe.a,{navMenu:{webType:"Web type",webHttp:"create web project",wehHandler:"generate handler CRUD code",microType:"RPC type",microRpc:"create rpc project",microService:"generate service CRUD code",microProtobuf:"generate protobuf",webHttpPb:"create web project",microRpcGwPb:"create rpc gateway project",microrpcPb:"create rpc project",webDao:"generate dao CRUD code",webModel:"generate model code",yamlConfig:"generate config code",microRpcCli:"generate rpc connection code"},footer:{text1:"If it helps you, give it a ",text2:"",text3:""},home:{text1:" is a powerful tool for generating code for web services and microservices projects, as well as a microservices framework based on gin and grpc encapsulation. Sponge has a wealth of code generation commands for generating web services, rpc services, and rpc gateway service code. With its decoupled modular design, it is easy to build complete project code from development to deployment, making it more convenient, easy, and efficient to develop with the Go language.",text2:"Github: ",text3:"Documentation: ",text3_1:"Video tutorials: ",text4:"Sponge generates code framework diagrams.",text5:"Microservice service framework diagram."}}),cn:Me()({},Ze.a,{navMenu:{webType:"Web类型",webHttp:"创建web项目",wehHandler:"生成handler CRUD代码",microType:"RPC类型",microRpc:"创建rpc项目",microService:"生成service CRUD代码",microProtobuf:"生成protobuf描述信息",webHttpPb:"创建web项目",microRpcGwPb:"创建rpc gateway项目",microrpcPb:"创建rpc项目",webDao:"生成dao CRUD代码",webModel:"生成model代码",yamlConfig:"生成config代码",microRpcCli:"生成rpc服务连接代码"},footer:{text1:"如果对您有帮助给个",text2:" ，欢迎加入",text3:"go sponge微信交流群。"},home:{text1:" 是一个强大的生成web服务和微服务项目代码工具，也是一个基于gin和grpc封装的微服务框架，sponge拥有丰富的生成代码命令，用来生成web服务、rpc服务、rpc网关服务代码。解耦模块化设计，很容易构建出从开发到部署的完整项目代码，让使用go语言开发更便捷、轻松、高效。",text2:"项目地址：",text3:"使用文档：",text3_1:"视频教程：",text4:"sponge生成代码框架图：",text5:"微服务服务框架图："}})},Ke=new Be.a({locale:"en",messages:Qe});r.default.use(Ve.a,{i18n:function(e,t){return Ke.t(e,t)}}),r.default.config.productionTip=!1,new r.default({el:"#app",i18n:Ke,router:Ie,components:{App:l},template:"<App/>"})},"SQW+":function(e,t){},TE2q:function(e,t){},X4KW:function(e,t,o){e.exports=o.p+"static/img/sponge-framework.9cc26cd.png"},ZKH6:function(e,t){},ZtZx:function(e,t){},aVH2:function(e,t){},awZC:function(e,t){},ebUW:function(e,t,o){e.exports=o.p+"static/img/wechat.4ce8c69.jpg"},fUlV:function(e,t){},guuU:function(e,t){},hIB5:function(e,t,o){e.exports=o.p+"static/img/go-sponge-logo.8d1efd3.png"},l85o:function(e,t){},o1kb:function(e,t){},p3TS:function(e,t){},qynW:function(e,t,o){e.exports=o.p+"static/img/microservices-framework.688c170.png"},tD0L:function(e,t){},tvR6:function(e,t){},uCFk:function(e,t){},vfoo:function(e,t){},wIRF:function(e,t){},"y54+":function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.e3564dc7b9a7e4772de7.js.map